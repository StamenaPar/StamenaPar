(this.webpackJsonpSupport=this.webpackJsonpSupport||[]).push([[0],{119:function(e,t,n){},120:function(e,t,n){},238:function(e,t,n){},267:function(e,t,n){"use strict";n.r(t);var r,s=n(62),o=n(1),i=n.n(o),a=n(53),c=n(25),u=n(11),d=n(34),l=n(63),j=n(103),p=n(5),O=n(2),b=n(10),f=n(3),h=n.n(f),g=n(12);!function(e){e.GET_ALL_ANSWERS="GET_ALL_ANSWERS",e.GET_ANSWER="GET_ANSWER",e.ADD_ANSWER="ADD_ANSWER",e.EDIT_ANSWER="EDIT_ANSWER",e.REMOVE_ANSWER="REMOVE_ANSWER",e.STORE_ANSWER="STORE_ANSWER",e.CANCEL_ANSWER="CANCEL_ANSWER",e.STORE_ANSWERS_TO_LOCAL_STORAGE="STORE_ANSWERS_TO_LOCAL_STORAGE"}(r||(r={}));var x,m=function(){return"localStorage"in window},v=function(){return new Promise((function(e,t){setTimeout((function(){e({status:200,"content-type":"application/json",data:{results:q}})}),50)}))},w=function(e){return new Promise((function(t,n){setTimeout((function(){t({status:200,"content-type":"application/json",data:{results:e}})}),50)}))},S=function(e){return new Promise((function(t,n){setTimeout((function(){t({status:200,"content-type":"application/json",data:{results:e}})}),50)}))},E=function(e){return new Promise((function(t,n){setTimeout((function(){t({status:200,"content-type":"application/json",data:{results:e}})}),50)}))},I="SUPPORT_ANSWERS",q=[],y=[{answerId:111,text:"You should do the following",words:[],options:[]},{answerId:112,text:"Also do the rest of important",words:[],options:[]},{answerId:113,text:"Try something else",words:[],options:[]},{answerId:114,text:"Contact our support",words:[],options:[]},{answerId:115,text:"Do whatever you want!",words:[],options:[]},{answerId:116,text:"Jump through the window.",words:[],options:[]}];!function(e){e.GET_ALL_QUESTIONS="GET_ALL_QUESTIONS",e.GET_QUESTION="GET_QUESTION",e.ADD_QUESTION="ADD_QUESTION",e.EDIT_QUESTION="EDIT_QUESTION",e.REMOVE_QUESTION="REMOVE_QUESTION",e.STORE_QUESTION="STORE_QUESTION",e.CANCEL_QUESTION="CANCEL_QUESTION",e.ADD_GROUP="ADD_GROUP",e.EDIT_GROUP="EDIT_GROUP",e.REMOVE_GROUP="REMOVE_GROUP",e.STORE_GROUP="STORE_GROUP",e.REMOVE_QUESTION_ANSWER="REMOVE_QUESTION_ANSWER",e.ASSIGN_QUESTION_ANSWER="ASSIGN_QUESTION_ANSWER",e.STORE_QUESTIONS_TO_LOCAL_STORAGE="STORE_QUESTIONS_TO_LOCAL_STORAGE",e.SET_IS_DETAIL="SET_IS_DETAIL"}(x||(x={}));var A=function(){return"localStorage"in window},_=function(e){var t=JSON.parse(e);Q=t},T=function(e){return function(){var t=Object(g.a)(h.a.mark((function t(n){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R(e);case 3:r=t.sent,n({type:x.GET_QUESTION,question:r.data.results}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},N=function(){return new Promise((function(e,t){setTimeout((function(){e({status:200,"content-type":"application/json",data:{results:1}})}),50)}))},R=function(e){return new Promise((function(t,n){setTimeout((function(){var n,r=void 0,s=Object(b.a)(Q);try{for(s.s();!(n=s.n()).done;){if(void 0!==(r=n.value.questions.find((function(t){return t.questionId===e}))))break}}catch(o){s.e(o)}finally{s.f()}t({status:200,"content-type":"application/json",data:{results:r}})}),100)}))},k=function(){return new Promise((function(e,t){setTimeout((function(){e({status:200,"content-type":"application/json",data:{results:Q}})}),250)}))},G=function(e){return new Promise((function(t,n){setTimeout((function(){t({status:200,"content-type":"application/json",data:{results:e}})}),50)}))},C="SUPPORT_QUESTIONS",Q=[],L=[{groupId:11,title:"General settings",questions:[{groupId:11,questionId:101,text:"Why promocode hasn't been applied?",words:[],answers:[111,112,114]}]},{groupId:22,title:"Taxes",questions:[{groupId:22,questionId:201,text:"Which promocode do we apply?",words:[],answers:[]},{groupId:22,questionId:202,text:"Which promocode for client do we apply?",words:[],answers:[111]}]},{groupId:33,title:"Client settings",questions:[{groupId:33,questionId:301,text:"Does client has promocode?",words:[],answers:[222]},{groupId:33,questionId:302,text:"What promocode do we use?",words:[],answers:[114]},{groupId:33,questionId:303,text:"Why taxes are less than 5%?",words:[],answers:[111,114]},{groupId:33,questionId:304,text:"When do we do something?",words:[],answers:[113]}]}],D={groupId:0,questionId:0,text:"",words:[],answers:[]},M={groupId:0,title:"",questions:[]},U={questionGroups:[],question:void 0,loading:!1,formMode:"display",groupIdEditing:0,isDetail:!1},W={answerId:0,text:"",words:[],options:[]},P={answers:[],loading:!1,formMode:"display"},F=Object(l.b)({questionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x.GET_ALL_QUESTIONS:var n,r=Object(b.a)(t.questionGroups);try{for(r.s();!(n=r.n()).done;){var s,o=n.value,i=Object(b.a)(o.questions);try{for(i.s();!(s=i.n()).done;){var a=s.value;a.words=a.text.split(" ")}}catch(c){i.e(c)}finally{i.f()}}}catch(c){r.e(c)}finally{r.f()}return Object(O.a)(Object(O.a)({},e),{},{questionGroups:t.questionGroups});case x.GET_QUESTION:return Object(O.a)(Object(O.a)({},e),{},{question:t.question});case x.ADD_QUESTION:return Object(O.a)(Object(O.a)({},e),{},{formMode:"add",question:Object(O.a)(Object(O.a)({},D),{},{groupId:t.groupId,questionId:t.questionId})});case x.EDIT_QUESTION:return Object(O.a)(Object(O.a)({},e),{},{formMode:"edit",question:Object(O.a)({},t.question)});case x.STORE_QUESTION:return"add"===e.formMode?Object(O.a)(Object(O.a)({},e),{},{formMode:"edit",questionGroups:e.questionGroups.map((function(e){return e.groupId!==t.question.groupId?Object(O.a)(Object(O.a)({},e),{},{questions:Object(p.a)(e.questions)}):Object(O.a)(Object(O.a)({},e),{},{questions:[].concat(Object(p.a)(e.questions),[Object(O.a)({},t.question)])})}))}):Object(O.a)(Object(O.a)({},e),{},{formMode:"edit",questionGroups:e.questionGroups.map((function(e){return e.groupId!==t.question.groupId?Object(O.a)(Object(O.a)({},e),{},{questions:Object(p.a)(e.questions)}):Object(O.a)(Object(O.a)({},e),{},{questions:e.questions.map((function(e){return e.questionId!==t.question.questionId?e:Object(O.a)({},t.question)}))})}))});case x.CANCEL_QUESTION:return Object(O.a)(Object(O.a)({},e),{},{formMode:"display"});case x.REMOVE_QUESTION:return Object(O.a)(Object(O.a)({},e),{},{formMode:"display",question:void 0,questionGroups:e.questionGroups.map((function(e){return e.groupId!==t.groupId?Object(O.a)(Object(O.a)({},e),{},{questions:Object(p.a)(e.questions)}):Object(O.a)(Object(O.a)({},e),{},{questions:e.questions.filter((function(e){return e.questionId!==t.questionId}))})}))});case x.REMOVE_QUESTION_ANSWER:return Object(O.a)(Object(O.a)({},e),{},{questionGroups:e.questionGroups.map((function(e){return e.groupId!==t.groupId?Object(O.a)(Object(O.a)({},e),{},{questions:Object(p.a)(e.questions)}):Object(O.a)(Object(O.a)({},e),{},{questions:e.questions.map((function(e){return e.questionId!==t.questionId?Object(O.a)(Object(O.a)({},e),{},{answers:Object(p.a)(e.answers)}):Object(O.a)(Object(O.a)({},e),{},{answers:e.answers.filter((function(e){return e!==t.answerId}))})}))})}))});case x.ASSIGN_QUESTION_ANSWER:return Object(O.a)(Object(O.a)({},e),{},{questionGroups:e.questionGroups.map((function(e){return e.groupId!==t.groupId?Object(O.a)(Object(O.a)({},e),{},{questions:Object(p.a)(e.questions)}):Object(O.a)(Object(O.a)({},e),{},{questions:e.questions.map((function(e){return e.questionId!==t.questionId?Object(O.a)(Object(O.a)({},e),{},{answers:Object(p.a)(e.answers)}):Object(O.a)(Object(O.a)({},e),{},{answers:[].concat(Object(p.a)(e.answers),[t.answerId])})}))})}))});case x.SET_IS_DETAIL:return Object(O.a)(Object(O.a)({},e),{},{isDetail:t.isDetail});case x.ADD_GROUP:return Object(O.a)(Object(O.a)({},e),{},{groupIdEditing:t.groupId,questionGroups:[].concat(Object(p.a)(e.questionGroups),[Object(O.a)(Object(O.a)({},M),{},{title:"New Section",groupId:t.groupId})])});case x.EDIT_GROUP:return Object(O.a)(Object(O.a)({},e),{},{groupIdEditing:t.group.groupId});case x.STORE_GROUP:return Object(O.a)(Object(O.a)({},e),{},{groupIdEditing:0,questionGroups:e.questionGroups.map((function(e){return e.groupId!==t.group.groupId?e:Object(O.a)(Object(O.a)({},e),{},{title:t.group.title})}))});case x.REMOVE_GROUP:return Object(O.a)(Object(O.a)({},e),{},{questionGroups:e.questionGroups.reduce((function(e,n){return n.groupId!==t.groupId&&e.push(Object(O.a)(Object(O.a)({},n),{},{questions:Object(p.a)(n.questions)})),e}),[])});case x.STORE_QUESTIONS_TO_LOCAL_STORAGE:return localStorage.setItem(C,JSON.stringify(e.questionGroups)),_(JSON.stringify(e.questionGroups)),e;default:return e}},answerState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.GET_ALL_ANSWERS:return Object(O.a)(Object(O.a)({},e),{},{answers:t.answers.map((function(e){return Object(O.a)(Object(O.a)({},e),{},{words:e.text.split(" ")})}))});case r.GET_ANSWER:return Object(O.a)(Object(O.a)({},e),{},{answer:t.answer});case r.ADD_ANSWER:return Object(O.a)(Object(O.a)({},e),{},{formMode:"add",answer:Object(O.a)(Object(O.a)({},W),{},{answerId:0===e.answers.length?1:Math.max.apply(Math,Object(p.a)(e.answers.map((function(e){return e.answerId}))))+1})});case r.EDIT_ANSWER:return Object(O.a)(Object(O.a)({},e),{},{formMode:"edit",answer:Object(O.a)(Object(O.a)({},t.answer),{},{words:t.answer.text.split(" ")})});case r.STORE_ANSWER:var n=[];return"add"===e.formMode?(-1===t.answer.answerId&&(t.answer.answerId=0===e.answers.length?1:Math.max.apply(Math,Object(p.a)(e.answers.map((function(e){return e.answerId}))))+1),n=[].concat(Object(p.a)(e.answers),[Object(O.a)(Object(O.a)({},t.answer),{},{words:t.answer.text.split(" ")})])):n=e.answers.map((function(e){return e.answerId===t.answer.answerId?Object(O.a)(Object(O.a)({},t.answer),{},{words:t.answer.text.split(" ")}):e})),Object(O.a)(Object(O.a)({},e),{},{formMode:"edit",answers:n});case r.CANCEL_ANSWER:return Object(O.a)(Object(O.a)({},e),{},{formMode:"display"});case r.REMOVE_ANSWER:return Object(O.a)(Object(O.a)({},e),{},{formMode:"display",answers:e.answers.filter((function(e){return e.answerId!==t.answerId}))});case r.STORE_ANSWERS_TO_LOCAL_STORAGE:return localStorage.setItem(I,JSON.stringify(e.answers)),e;default:return e}}});n(119),n(120);var V=n(6),B=n(7),H=n(14),J=n(15),z=n(56),$=n.n(z),X=n(57),Y=n.n(X),K=n(58),Z=n.n(K),ee=(n(77),n(0)),te=["ref"];var ne=Object(o.createRef)(),re=$.a,se=function(e){Object(H.a)(n,e);var t=Object(J.a)(n);function n(e){var r;return Object(V.a)(this,n),(r=t.call(this,e)).state=void 0,r.onSuggestionsClearRequested=function(){r.setState({suggestions:[]})},r.anyWord=function(e,t){var n,r=Object(b.a)(e);try{for(r.s();!(n=r.n()).done;){var s,o=n.value,i=Object(b.a)(t);try{for(i.s();!(s=i.n()).done;){var a=s.value;if(o.test(a))return!0}}catch(c){i.e(c)}finally{i.f()}}}catch(c){r.e(c)}finally{r.f()}return!1},r.state={value:e.tekst||"",suggestions:r.getSuggestions(""),highlighted:""},r}return Object(B.a)(n,[{key:"componentDidMount",value:function(){setTimeout((function(){setTimeout((function(){window.focus(),ne.current.focus()}),500)}),100)}},{key:"render",value:function(){var e=this,t=this.state,n=t.value,r=t.suggestions;return Object(ee.jsx)(re,{onSuggestionsClearRequested:this.onSuggestionsClearRequested,multiSection:!0,suggestions:r,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested.bind(this),onSuggestionSelected:this.onSuggestionSelected.bind(this),getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,renderSectionTitle:this.renderSectionTitle,getSectionSuggestions:this.getSectionSuggestions,onSuggestionHighlighted:this.onSuggestionHighlighted.bind(this),highlightFirstSuggestion:!0,renderInputComponent:this.renderInputComponent,renderSuggestionsContainer:this.renderSuggestionsContainer,inputProps:{placeholder:"Type 'promocode'",value:n,onChange:function(t,n){return e.onChange(t,n)}}})}},{key:"onSuggestionSelected",value:function(e,t){var n=t.suggestion;this.props.onSelectQuestion(n.questionId)}},{key:"renderSuggestion",value:function(e,t){var n=Y()(e.text,t.query),r=Z()(e.text,n);return Object(ee.jsx)("span",{children:r.map((function(e,t){var n=e.highlight?"react-autosuggest__suggestion-match":void 0;return Object(ee.jsx)("span",{className:n,children:e.text},t)}))})}},{key:"renderSectionTitle",value:function(e){return Object(ee.jsx)("strong",{children:e.title})}},{key:"renderInputComponent",value:function(e){e.ref;var t=Object(s.a)(e,te);return Object(ee.jsx)("div",{children:Object(ee.jsx)("input",Object(O.a)(Object(O.a)({},t),{},{ref:ne}))})}},{key:"renderSuggestionsContainer",value:function(e){var t=e.containerProps,n=e.children;e.query;return Object(ee.jsx)("div",Object(O.a)(Object(O.a)({},t),{},{children:Object(ee.jsx)("span",{children:n})}))}},{key:"onChange",value:function(e,t){var n=t.newValue;t.method;this.setState({value:n})}},{key:"onSuggestionsFetchRequested",value:function(e){var t=e.value;this.setState({suggestions:this.getSuggestions(t)})}},{key:"getSuggestions",value:function(e){var t=this,n=e.trim().replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(""===n)return[];var r=n.split(" ").map((function(e){return new RegExp(e,"i")}));return this.props.questionGroups.map((function(e){return{groupId:e.groupId,title:e.title,questions:e.questions.filter((function(e){return t.anyWord(r,e.words)}))}})).filter((function(e){return e.questions.length>0}))}},{key:"getSuggestionValue",value:function(e){return e.text}},{key:"getSectionSuggestions",value:function(e){return e.questions}},{key:"onSuggestionHighlighted",value:function(e){this.setState({highlighted:e.suggestion})}}]),n}(o.Component),oe=n(39),ie=n(27),ae=n(16),ce=n(23),ue=n(20);var de=$.a,le=function(e){Object(H.a)(n,e);var t=Object(J.a)(n);function n(e){var r;return Object(V.a)(this,n),(r=t.call(this,e)).state=void 0,r.onSuggestionsClearRequested=function(){r.setState({suggestions:[]})},r.anyWord=function(e,t){var n,r=Object(b.a)(e);try{for(r.s();!(n=r.n()).done;){var s,o=n.value,i=Object(b.a)(t);try{for(i.s();!(s=i.n()).done;){var a=s.value;if(o.test(a))return!0}}catch(c){i.e(c)}finally{i.f()}}}catch(c){r.e(c)}finally{r.f()}return!1},r.state={value:"",suggestions:r.getSuggestions(""),highlighted:""},r}return Object(B.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.value,r=t.suggestions;return Object(ee.jsx)(de,{onSuggestionsClearRequested:this.onSuggestionsClearRequested,multiSection:!1,suggestions:r,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested.bind(this),onSuggestionSelected:this.onSuggestionSelected.bind(this),getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,onSuggestionHighlighted:this.onSuggestionHighlighted.bind(this),highlightFirstSuggestion:!0,renderSuggestionsContainer:this.renderSuggestionsContainer,inputProps:{placeholder:"Type 'contact'",value:n,onChange:function(t,n){return e.onChange(t,n)}}})}},{key:"onSuggestionSelected",value:function(e,t){var n=t.suggestion;this.props.assignQuestionAnswer(this.props.question.groupId,this.props.question.questionId,n.answerId)}},{key:"renderSuggestion",value:function(e,t){var n=Y()(e.text,t.query),r=Z()(e.text,n);return Object(ee.jsx)("span",{children:r.map((function(e,t){var n=e.highlight?"react-autosuggest__suggestion-match":void 0;return Object(ee.jsx)("span",{className:n,children:e.text},t)}))})}},{key:"renderSuggestionsContainer",value:function(e){var t=e.containerProps,n=e.children;e.query;return Object(ee.jsx)("div",Object(O.a)(Object(O.a)({},t),{},{children:Object(ee.jsx)("span",{children:n})}))}},{key:"onChange",value:function(e,t){var n=t.newValue;t.method;this.props.setAnswerText&&this.props.setAnswerText(n),this.setState({value:n})}},{key:"onSuggestionsFetchRequested",value:function(e){var t=e.value;this.setState({suggestions:this.getSuggestions(t)})}},{key:"getSuggestions",value:function(e){var t=this,n=e.trim().replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(""===n)return[];var r=n.split(" ").map((function(e){return new RegExp(e,"i")}));return this.props.answersUnassigned.filter((function(e){return t.anyWord(r,e.words)}))}},{key:"getSuggestionValue",value:function(e){return e.text}},{key:"onSuggestionHighlighted",value:function(e){this.setState({highlighted:e.suggestion})}}]),n}(o.Component),je=function(e){var t=e.question,n=e.questionAnswers,r=e.answers,s=e.canEdit,i=e.formMode,a=e.removeQuestionAnswer,c=e.assignQuestionAnswer,u=e.setIsDetail,d=null===r||void 0===r?void 0:r.filter((function(e){return!t.answers.includes(e.answerId)})),l=o.useState(""),j=Object(ae.a)(l,2),p=(j[0],j[1]);return Object(ee.jsx)("div",{className:"name-container",children:n.length>-1&&Object(ee.jsx)(ee.Fragment,{children:Object(ee.jsxs)("table",{children:[Object(ee.jsx)("thead",{children:Object(ee.jsxs)("tr",{children:[Object(ee.jsx)("th",{children:0===n.length?"No answers yet":"Answers"}),s&&"display"!==i&&Object(ee.jsx)("th",{})]})}),Object(ee.jsxs)("tbody",{children:[n.map((function(e){return Object(ee.jsxs)("tr",{children:[Object(ee.jsx)("td",{className:"name",children:e.text}),s&&"display"!==i&&Object(ee.jsx)("td",{children:Object(ee.jsx)("button",{className:"button-remove",title:"Remove Answer",onClick:function(n){n.stopPropagation(),n.preventDefault(),a(t.groupId,t.questionId,e.answerId)},children:Object(ee.jsx)(ce.a,{icon:ue.c,color:"lightblue"})})})]},e.answerId)})),s&&"display"!==i&&Object(ee.jsxs)("tr",{children:[Object(ee.jsx)("td",{children:Object(ee.jsx)(le,{question:t,answersUnassigned:d,assignQuestionAnswer:c,setAnswerText:function(e){p(e)}})}),Object(ee.jsx)("td",{children:Object(ee.jsx)("button",{className:"button-edit",title:"Add a new Answer",onClick:function(){return function(e){u(e);var t=document.getElementById("divDetailView");t.classList.add("detail-view-open"),t.style.zIndex="3"}(!0)},children:Object(ee.jsx)(ce.a,{icon:ue.b,color:"lightblue"})})})]})]})]})})})},pe=function(e){var t=Object(oe.a)({enableReinitialize:!0,initialValues:{groupId:e.question.groupId,questionId:e.question.questionId,text:e.question.text,answers:e.question.answers},validationSchema:ie.a({text:ie.b().max(150,"Must be 150 characters or less").required("Required")}),onSubmit:function(t){e.saveForm(t,e.formMode)}});return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(ee.jsx)("label",{htmlFor:"text"}),Object(ee.jsx)("input",{id:"questionId",name:"questionId",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.questionId,disabled:!0,style:{width:"50px"}}),t.touched.questionId&&t.errors.questionId?Object(ee.jsx)("div",{children:t.errors.questionId}):null,Object(ee.jsx)("label",{htmlFor:"text"}),Object(ee.jsx)("input",{id:"text",name:"text",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.text,multiple:!0}),t.touched.text&&t.errors.text?Object(ee.jsx)("div",{children:t.errors.text}):null,e.canEdit&&Object(ee.jsx)("button",{onClick:function(){return e.cancel()},children:"Cancel"}),e.canEdit&&Object(ee.jsx)("button",{type:"submit",children:"Save"})]}),Object(ee.jsx)("br",{}),Object(ee.jsx)(je,{question:e.question,questionAnswers:e.questionAnswers,answers:e.answers,canEdit:e.canEdit,formMode:e.formMode,removeQuestionAnswer:e.removeQuestionAnswer,assignQuestionAnswer:e.assignQuestionAnswer,setIsDetail:e.setIsDetail})]})},Oe=function(e){var t=Object(oe.a)({enableReinitialize:!0,initialValues:{groupId:e.question.groupId,questionId:e.question.questionId,text:e.question.text,answers:e.question.answers},validationSchema:ie.a({text:ie.b().max(150,"Must be 150 characters or less").required("Required")}),onSubmit:function(e){}});return Object(ee.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(ee.jsx)("label",{htmlFor:"text"}),Object(ee.jsx)("input",{id:"questionId",name:"questionId",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.questionId,disabled:!0,style:{width:"50px"}}),t.touched.questionId&&t.errors.questionId?Object(ee.jsx)("div",{children:t.errors.questionId}):null,Object(ee.jsx)("label",{htmlFor:"text"}),Object(ee.jsx)("input",{id:"text",name:"text",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.text,disabled:!0}),t.touched.text&&t.errors.text?Object(ee.jsx)("div",{children:t.errors.text}):null,Object(ee.jsx)("br",{}),Object(ee.jsx)(je,{question:e.question,questionAnswers:e.questionAnswers,canEdit:e.canEdit,formMode:e.formMode,setIsDetail:e.setIsDetail}),e.canEdit&&Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("button",{onClick:function(){return e.edit()},children:"Edit"}),Object(ee.jsx)("button",{onClick:function(){return e.remove()},children:"Remove"})]})]})};function be(){var e=Object(o.useState)({isHovered:!1}),t=Object(ae.a)(e,2),n=t[0],r=t[1],s=Object(o.useRef)(null),i=function(){return r({isHovered:!0})},a=function(){return r({isHovered:!1})};return Object(o.useEffect)((function(){var e=s.current;if(e)return e.addEventListener("mouseenter",(function(){return i()})),e.addEventListener("mouseleave",(function(){return a()})),function(){e.removeEventListener("mouseenter",(function(){return i()})),e.removeEventListener("mouseleave",(function(){return a()}))}}),[s.current]),[s,n]}var fe=function(e){var t=be(),n=Object(ae.a)(t,2),r=n[0],s=n[1],o=e.question,i=e.onSelectQuestion,a=e.edit,c=e.remove,u=o.groupId,d=o.questionId;return Object(ee.jsxs)("div",{ref:r,className:"name",children:[Object(ee.jsx)("button",{className:"question-button",onClick:function(){return i(d)},children:o.text}),s.isHovered&&Object(ee.jsx)("button",{className:"button-edit",title:"Edit",onClick:function(){return a(u,d)},children:Object(ee.jsx)(ce.a,{icon:ue.a,color:"lightblue"})}),s.isHovered&&Object(ee.jsx)("button",{className:"button-remove",title:"Remove",onClick:function(){return c(u,d)},children:Object(ee.jsx)(ce.a,{icon:ue.c,color:"lightblue"})})]})},he=function(e){var t=be(),n=Object(ae.a)(t,2),r=n[0],s=n[1],o=e.questionGroup,i=e.editGroup,a=e.removeGroup;return Object(ee.jsxs)("div",{ref:r,className:"name",children:[Object(ee.jsx)("span",{className:"question-group-title",children:o.title}),s.isHovered&&Object(ee.jsx)("button",{className:"button-edit",title:"Edit Section",onClick:function(){return i(o.groupId)},children:Object(ee.jsx)(ce.a,{icon:ue.a,color:"lightblue"})}),s.isHovered&&0===o.questions.length&&Object(ee.jsx)("button",{className:"button-remove",title:"Remove Section",onClick:function(){return a(o.groupId)},children:Object(ee.jsx)(ce.a,{icon:ue.c,color:"lightblue"})})]},o.groupId)},ge=n(234)("#666ee8"),xe=function(e){var t=Object(oe.a)({enableReinitialize:!0,initialValues:{fromMode:e.formMode,answerId:e.answer.answerId,text:e.answer.text,options:e.answer.options},validationSchema:ie.a({text:ie.b().max(150,"Must be 150 characters or less").required("Required")}),onSubmit:function(t){e.saveForm(t,e.formMode)}});return Object(ee.jsxs)("form",{onSubmit:t.handleSubmit,children:["add"!==e.formMode&&Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("label",{htmlFor:"answerId"}),Object(ee.jsx)("input",{id:"answerId",name:"answerId",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.answerId,disabled:!0,style:{width:"50px"}}),t.touched.answerId&&t.errors.answerId?Object(ee.jsx)("div",{children:t.errors.answerId}):null]}),Object(ee.jsx)("label",{htmlFor:"text"}),Object(ee.jsx)("input",{id:"text",name:"text",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.text}),t.touched.text&&t.errors.text?Object(ee.jsx)("div",{children:t.errors.text}):null,Object(ee.jsx)("button",{onClick:function(){return e.cancel()},children:"Cancel"}),Object(ee.jsx)("button",{type:"submit",children:"Save"})]})},me=function(e){return Object(ee.jsx)("div",{style:{height:"100%"},className:"formik-example formik-example--blue",children:Object(ee.jsx)("div",{style:{height:"100%",background:ge.blue[5],padding:"4rem 2rem"},children:Object(ee.jsx)("div",{style:{borderRadius:"4px",boxShadow:"0 8px 16px rgba(0,0,0,.2)",background:"#fff",maxWidth:400,margin:"0 auto",padding:"2rem"},children:Object(ee.jsx)("div",{className:"formik-example formik-example--blue",children:Object(ee.jsx)(xe,Object(O.a)({},e))})})})})},ve=function(e){Object(o.useEffect)((function(){var e=document.getElementById("divDetailView");e.addEventListener("animationend",(function(){e.classList.contains("detail-view-close")?(e.style.zIndex="0",e.style.left="100%",e.classList.remove("detail-view-close")):e.style.left="60%"}))}),[]);return Object(ee.jsxs)("div",{id:"divDetailView",className:"detail-view",children:[Object(ee.jsx)("button",{style:{position:"absolute",right:"10px"},onClick:function(){var e=document.getElementById("divDetailView");e.classList.remove("detail-view-open"),e.classList.add("detail-view-close")},children:"X"}),Object(ee.jsx)("h2",{children:"New Answer"}),Object(ee.jsxs)("div",{style:{width:"100%",border:"1px solid silver",borderRadius:"5px",padding:"10px"},children:[Object(ee.jsx)("h4",{style:{marginTop:0},children:"Edit Answer"}),Object(ee.jsx)(me,{answer:{answerId:-1,text:"argh"},formMode:"add",cancel:function(){},saveForm:function(t){return e.storeNewAnswer(t,"add")}})]})]})},we=function(e){var t=Object(u.f)().tekst,n=e.questionGroups,r=e.question,s=e.questionAnswers,i=e.answers,a=e.formMode,c=e.groupIdEditing,d=e.onSelectQuestion,l=e.add,j=e.edit,p=e.remove,b=e.cancel,f=e.saveForm,h=e.canEdit,g=e.addGroup,x=e.editGroup,m=e.removeGroup,v=e.storeGroup,w=e.removeQuestionAnswer,S=e.assignQuestionAnswer,E=e.setIsDetail,I=(e.isDetail,e.storeNewAnswer),q=Object(o.useRef)(null);return setTimeout((function(){null!==q.current&&(q.current.select(),q.current.focus())}),100),Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsxs)("div",{className:"name-container",children:[Object(ee.jsxs)("div",{className:"two-columns",children:[Object(ee.jsx)("div",{className:"a",children:Object(ee.jsx)(se,{questionGroups:n,tekst:t,onSelectQuestion:d})}),Object(ee.jsx)("div",{className:"b"})]}),Object(ee.jsx)("hr",{}),Object(ee.jsx)("h4",{style:{textAlign:"center"},children:"Maintenance (visible only for Admins) "}),Object(ee.jsxs)("div",{className:"two-columns",children:[Object(ee.jsxs)("div",{className:"a",children:[Object(ee.jsx)("h3",{children:"All Questions by sections"}),n&&n.map((function(e){return Object(ee.jsxs)("div",{style:{paddingBottom:"5px"},children:[Object(ee.jsxs)("div",{children:[c===e.groupId&&Object(ee.jsx)("input",{ref:q,name:"groupTitle",type:"text",onBlur:function(t){return v(Object(O.a)(Object(O.a)({},e),{},{title:t.target.value}))},defaultValue:e.title}),c!==e.groupId&&Object(ee.jsx)(he,{questionGroup:e,editGroup:x,removeGroup:m})]}),Object(ee.jsxs)("div",{style:{marginLeft:"10px"},children:[e.questions.map((function(e){return Object(ee.jsx)(fe,{question:e,onSelectQuestion:d,edit:j,remove:p},e.questionId)})),Object(ee.jsx)("div",{style:{marginLeft:"5%"},children:Object(ee.jsx)("button",{className:"button-add",title:"Add a new Question",onClick:function(){return l(e.groupId)},children:"Add a new Question"})})]})]},e.groupId)})),Object(ee.jsx)("div",{style:{marginLeft:"1%"},children:Object(ee.jsx)("button",{className:"button-add-group",title:"Add a new Section",onClick:function(){return g()},children:"Add a new Section"})})]}),Object(ee.jsx)("div",{className:"b",children:n&&r&&Object(ee.jsxs)("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"10px"},children:[Object(ee.jsx)("h4",{style:{marginTop:0},children:"Question"}),"display"===a?Object(ee.jsx)(Oe,{question:r,questionAnswers:s,answers:i,formMode:a,canEdit:h,edit:function(){return j(r.groupId,r.questionId)},remove:function(){return p(r.groupId,r.questionId)},removeQuestionAnswer:w,assignQuestionAnswer:S,setIsDetail:E}):Object(ee.jsx)(pe,{question:r,questionAnswers:s,answers:i,formMode:a,cancel:b,saveForm:function(e){return f(e,a)},canEdit:h,removeQuestionAnswer:w,assignQuestionAnswer:S,setIsDetail:E})]})})]})]}),Object(ee.jsx)(ve,{storeNewAnswer:I})," "]})},Se=function(e){var t=Object(u.f)().tekst,n=e.questionGroups,r=e.question,s=e.questionAnswers,o=e.answers,i=e.formMode,a=e.onSelectQuestion,c=e.cancel,d=e.saveForm,l=e.canEdit,j=e.removeQuestionAnswer,p=e.assignQuestionAnswer,O=e.setIsDetail;e.storeNewAnswer;return Object(ee.jsx)("div",{className:"name-container",children:Object(ee.jsxs)("div",{className:"two-columns",children:[Object(ee.jsx)("div",{className:"a",children:Object(ee.jsx)(se,{questionGroups:n,tekst:t,onSelectQuestion:a})}),Object(ee.jsx)("div",{className:"b",children:n&&r&&Object(ee.jsxs)("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"10px"},children:[Object(ee.jsx)("h4",{style:{marginTop:0},children:"Question"}),Object(ee.jsx)(pe,{question:r,questionAnswers:s,answers:o,formMode:i,cancel:c,saveForm:function(e){return d(e,i)},canEdit:l,removeQuestionAnswer:j,assignQuestionAnswer:p,setIsDetail:O})]})})]})})},Ee=function(e,t){if(void 0===e||0===e.answers.length||void 0===t)return[];var n=e.answers;return t.filter((function(e){return n.includes(e.answerId)}))},Ie=function(e,t){return{questionGroups:e.questionState.questionGroups,question:e.questionState.question,questionAnswers:Ee(e.questionState.question,e.answerState.answers),answers:e.answerState.answers,formMode:e.questionState.formMode,groupIdEditing:e.questionState.groupIdEditing,canEdit:t.canEdit,isDetail:e.questionState.isDetail}},qe=function(e){return{onSelectQuestion:function(t){return e(T(t))},add:function(t){return e((n=t,function(){var e=Object(g.a)(h.a.mark((function e(t){var r,s,o,i,a,c,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k();case 3:r=e.sent,s=r.data.results,o=0,i=Object(b.a)(s);try{for(i.s();!(a=i.n()).done;)c=a.value,(u=Math.max.apply(Math,Object(p.a)(c.questions.map((function(e){return e.questionId})))))>o&&(o=u)}catch(d){i.e(d)}finally{i.f()}t({type:x.ADD_QUESTION,groupId:n,questionId:o+1}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()));var n},edit:function(t,n){return e(function(e,t){return function(){var e=Object(g.a)(h.a.mark((function e(n){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R(t);case 3:r=e.sent,n({type:x.EDIT_QUESTION,question:r.data.results}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}(0,n))},remove:function(t,n){return e(function(e,t){return function(){var n=Object(g.a)(h.a.mark((function n(r){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,N();case 3:r({type:x.REMOVE_QUESTION,groupId:e,questionId:t}),A()&&r({type:x.STORE_QUESTIONS_TO_LOCAL_STORAGE}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))},saveForm:function(t,n){return e(function(e,t){return function(){var n=Object(g.a)(h.a.mark((function n(r){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,"add"!==t){n.next=7;break}return n.next=4,N();case 4:r({type:x.STORE_QUESTION,question:e}),n.next=10;break;case 7:return n.next=9,N();case 9:r({type:x.STORE_QUESTION,question:e});case 10:A()&&r({type:x.STORE_QUESTIONS_TO_LOCAL_STORAGE}),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),console.error(n.t0);case 16:case"end":return n.stop()}}),n,null,[[0,13]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))},cancel:function(){return e((function(e){try{e({type:x.CANCEL_QUESTION})}catch(t){console.error(t)}}))},addGroup:function(){return e(function(){var e=Object(g.a)(h.a.mark((function e(t){var n,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k();case 3:n=e.sent,r=n.data.results,s=Math.max.apply(Math,Object(p.a)(r.map((function(e){return e.groupId})))),t({type:x.ADD_GROUP,groupId:s+1}),A()&&t({type:x.STORE_QUESTIONS_TO_LOCAL_STORAGE}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())},editGroup:function(t){return e(function(e){return function(){var t=Object(g.a)(h.a.mark((function t(n){var r,s,o;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k();case 3:r=t.sent,s=r.data.results,o=s.find((function(t){return t.groupId===e})),n({type:x.EDIT_GROUP,group:JSON.parse(JSON.stringify(o))}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(t))},removeGroup:function(t){return e(function(e){return function(){var t=Object(g.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N();case 3:n({type:x.REMOVE_GROUP,groupId:e}),A()&&n({type:x.STORE_QUESTIONS_TO_LOCAL_STORAGE}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))},storeGroup:function(t){return e(function(e){return function(){var t=Object(g.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G(e);case 3:n({type:x.STORE_GROUP,group:e}),A()&&n({type:x.STORE_QUESTIONS_TO_LOCAL_STORAGE}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))},removeQuestionAnswer:function(t,n,r){return e(function(e,t,n){return function(){var r=Object(g.a)(h.a.mark((function r(s){return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,N();case 3:s({type:x.REMOVE_QUESTION_ANSWER,groupId:e,questionId:t,answerId:n}),A()&&s({type:x.STORE_QUESTIONS_TO_LOCAL_STORAGE}),s(T(t)),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),console.error(r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))},assignQuestionAnswer:function(t,n,r){return e(function(e,t,n,r){return function(){var r=Object(g.a)(h.a.mark((function r(s){return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,N();case 3:s({type:x.ASSIGN_QUESTION_ANSWER,groupId:e,questionId:t,answerId:n}),A()&&s({type:x.STORE_QUESTIONS_TO_LOCAL_STORAGE}),s(T(t)),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),console.error(r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))},setIsDetail:function(t){e(function(e){return function(){var t=Object(g.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:x.SET_IS_DETAIL,isDetail:e})}catch(r){console.error(r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},storeNewAnswer:function(t,n){e(function(e,t){return function(){var n=Object(g.a)(h.a.mark((function n(s){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log("storeNewAnswer answer:",e);try{"add"===t&&(s({type:r.ADD_ANSWER}),s({type:r.STORE_ANSWER,answer:e}))}catch(o){console.error(o)}case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}},ye={questions:Object(d.b)(Ie,qe)(we),promoter:Object(d.b)(Ie,qe)(Se)},Ae=function(){return Object(ee.jsxs)(ee.Fragment,{children:[Object(ee.jsx)("h2",{style:{textAlign:"center"},children:"Questions & Answers"}),Object(ee.jsx)(ye.promoter,{canEdit:!1})]})},_e=function(e){var t=e.answer,n=e.usedAnswers,r=e.edit,s=e.remove;return Object(ee.jsxs)("tr",{children:[Object(ee.jsx)("td",{className:"name",children:t.answerId}),Object(ee.jsx)("td",{className:"name",children:t.text}),Object(ee.jsx)("td",{children:Object(ee.jsx)("button",{className:"button-edit",title:"Add a new Answer",onClick:function(){return r(t.answerId)},children:Object(ee.jsx)(ce.a,{icon:ue.a,color:"lightblue"})})}),Object(ee.jsx)("td",{children:Object(ee.jsx)("button",{disabled:n.includes(t.answerId),className:"button-remove",title:"Remove Answer",onClick:function(){return s(t.answerId)},children:Object(ee.jsx)(ce.a,{icon:ue.c,color:"lightblue"})})})]},t.answerId)},Te=function(e){var t=e.answers,n=e.usedAnswers,r=e.edit,s=e.remove;return Object(ee.jsxs)("table",{children:[Object(ee.jsx)("thead",{children:Object(ee.jsxs)("tr",{children:[Object(ee.jsx)("th",{children:"Id"}),Object(ee.jsx)("th",{children:"Answer"}),Object(ee.jsx)("th",{}),Object(ee.jsx)("th",{})]})}),Object(ee.jsx)("tbody",{children:t.map((function(e){return Object(ee.jsx)(_e,{answer:e,usedAnswers:n,edit:r,remove:s},e.answerId)}))})]})},Ne=function(e){var t=Object(u.f)().slug,n=e.answers,r=e.answer,s=e.usedAnswers,o=e.formMode,i=e.add,a=e.edit,c=e.remove,d=e.cancel,l=e.saveForm;return Object(ee.jsxs)("div",{className:"name-container",children:[t,0===n.length&&Object(ee.jsx)("div",{children:"No answers at all"}),n.length>0&&Object(ee.jsxs)("div",{className:"two-columns",children:[Object(ee.jsxs)("div",{className:"a",children:[Object(ee.jsx)(Te,{answers:n,usedAnswers:s,edit:a,remove:c}),Object(ee.jsx)("button",{onClick:function(){return i()},children:"Add new"})]}),Object(ee.jsxs)("div",{className:"b",children:["add"===o&&Object(ee.jsxs)("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"10px"},children:[Object(ee.jsx)("h4",{style:{marginTop:0},children:"New Answer"}),Object(ee.jsx)(me,{answer:r,formMode:o,cancel:d,saveForm:function(e){return l(e,o)}})]}),"edit"===o&&Object(ee.jsxs)("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"10px"},children:[Object(ee.jsx)("h4",{style:{marginTop:0},children:"Edit Answer"}),Object(ee.jsx)(me,{answer:r,formMode:o,cancel:d,saveForm:function(e){return l(e,o)}})]})]})]})]})},Re=function(e){var t,n=[],r=Object(b.a)(e);try{for(r.s();!(t=r.n()).done;){var s,o=t.value,i=Object(b.a)(o.questions);try{for(i.s();!(s=i.n()).done;){var a=s.value;n=n.concat(a.answers)}}catch(c){i.e(c)}finally{i.f()}}}catch(c){r.e(c)}finally{r.f()}return n},ke=Object(d.b)((function(e){return{answers:e.answerState.answers,answer:e.answerState.answer,formMode:e.answerState.formMode,usedAnswers:Re(e.questionState.questionGroups)}}),(function(e){return{add:function(){return e((function(e){try{e({type:r.ADD_ANSWER})}catch(t){console.error(t)}}))},edit:function(t){return e(function(e){return function(){var t=Object(g.a)(h.a.mark((function t(n){var s,o;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v();case 3:s=t.sent,o=s.data.results,n({type:r.EDIT_ANSWER,answer:o.find((function(t){return t.answerId===e}))}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(t))},remove:function(t){return e(function(e){return function(){var t=Object(g.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E(e);case 3:n({type:r.REMOVE_ANSWER,answerId:e}),m()&&n({type:r.STORE_ANSWERS_TO_LOCAL_STORAGE}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}(t))},saveForm:function(t,n){return e(function(e,t){return function(){var n=Object(g.a)(h.a.mark((function n(s){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,"add"!==t){n.next=7;break}return n.next=4,w(e);case 4:s({type:r.STORE_ANSWER,answer:e}),n.next=10;break;case 7:return n.next=9,S(e);case 9:s({type:r.STORE_ANSWER,answer:e});case 10:m()&&s({type:r.STORE_ANSWERS_TO_LOCAL_STORAGE}),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),console.error(n.t0);case 16:case"end":return n.stop()}}),n,null,[[0,13]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))},cancel:function(){return e((function(e){try{e({type:r.CANCEL_ANSWER})}catch(t){console.error(t)}}))}}}))(Ne),Ge=(n(238),n(46)),Ce=(ge.base,ge.black,Object(s.a)(ge,["base","black"]));Object.keys(Ce).forEach((function(e){Ge.css.global(".formik-example.formik-example--".concat(e," button[type='submit'],\n\t.formik-example.formik-example--").concat(e," button.primary"),{background:ge[e][5]}),Ge.css.global(".formik-example.formik-example--".concat(e," button[type='submit']:focus,\n\t  .formik-example.formik-example--").concat(e," button.primary:focus"),{background:ge[e][6]}),Ge.css.global(".formik-example.formik-example--".concat(e," button[type='submit']:active,\n\t  .formik-example.formik-example--").concat(e," button.primary:active"),{background:ge[e][7]}),Ge.css.global(".formik-example.formik-example--".concat(e," input:focus, .formik-example.formik-example--").concat(e," select:focus"),{borderColor:ge[e][4],boxShadow:"inset 0 1px 1px rgba(0, 0, 0, 0.075),0 0 0 3px ".concat(ge[e][1]),outline:"none"})}));var Qe=function(e){return Object(ee.jsx)(d.a,{store:e.store,children:Object(ee.jsxs)(c.a,{basename:"/",children:[Object(ee.jsx)("nav",{children:Object(ee.jsxs)("ul",{children:[Object(ee.jsx)("li",{children:Object(ee.jsx)(c.b,{to:"/supporter/promo",children:"Supporter"})}),Object(ee.jsx)("li",{children:Object(ee.jsx)(c.b,{to:"/questions",children:"Questions"})}),Object(ee.jsx)("li",{children:Object(ee.jsx)(c.b,{to:"/answers/pera",children:"Answers"})}),Object(ee.jsx)("li",{className:"push-right",children:Object(ee.jsx)(c.b,{to:"/answers/sima",children:"Sign In"})})]})}),Object(ee.jsx)("div",{children:Object(ee.jsxs)(u.c,{children:[Object(ee.jsx)(u.a,{exact:!0,path:"/supporter/:tekst?",children:Object(ee.jsx)(Ae,{})}),Object(ee.jsx)(u.a,{path:"/questions",children:Object(ee.jsx)(ye.questions,{canEdit:!0})}),Object(ee.jsx)(u.a,{path:"/answers/:slug",children:Object(ee.jsx)(ke,{})})]})})]})})},Le=Object(l.c)(F,void 0,Object(l.a)(j.a));Le.dispatch(function(){var e=Object(g.a)(h.a.mark((function e(t){var n,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=!1,A()&&null!==(r=localStorage.getItem(C))&&(Q=JSON.parse(r),n=!0),n||(Q=L),e.next=6,k();case 6:s=e.sent,t({type:x.GET_ALL_QUESTIONS,questionGroups:JSON.parse(JSON.stringify(s.data.results))}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()),Le.dispatch(function(){var e=Object(g.a)(h.a.mark((function e(t){var n,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m()&&null!==(n=localStorage.getItem(I))?JSON.parse(n).map((function(e){return q.push(e)})):y.map((function(e){return q.push(e)})),e.next=4,v();case 4:s=e.sent,t({type:r.GET_ALL_ANSWERS,answers:s.data.results}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),a.render(Object(ee.jsx)(i.a.StrictMode,{children:Object(ee.jsx)(Qe,{store:Le})}),document.getElementById("root"))},77:function(e,t,n){}},[[267,1,2]]]);
//# sourceMappingURL=main.8666a64d.chunk.js.map