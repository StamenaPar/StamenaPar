(this.webpackJsonpSupport=this.webpackJsonpSupport||[]).push([[0],{103:function(e){e.exports=JSON.parse('[{"answerId":111,"text":"You should do the following","words":[],"options":[],"createdBy":0,"created":"2021-10-05T14:48:00.000Z"},{"answerId":112,"text":"Also do the rest of important","words":[],"options":[],"createdBy":0,"created":"2021-10-05T14:48:00.000Z"},{"answerId":113,"text":"Try something else","words":[],"options":[],"createdBy":0,"created":"2021-10-05T14:48:00.000Z"},{"answerId":114,"text":"Contact our support","words":[],"options":[],"createdBy":0,"created":"2021-10-05T14:48:00.000Z"},{"answerId":115,"text":"Do whatever you want!","words":[],"options":[],"createdBy":0,"created":"2021-10-05T14:48:00.000Z"},{"answerId":116,"text":"Jump through the window.","words":[],"options":[],"createdBy":0,"created":"2021-10-05T14:48:00.000Z"}]')},104:function(e){e.exports=JSON.parse('[{"groupId":11,"title":"General settings","questions":[{"groupId":11,"questionId":101,"text":"Why promocode hasn\\"t been applied?","words":[],"answers":[{"answerId":111,"assignedBy":1,"assigned":"2021-10-05T14:48:00.000Z"},{"answerId":112,"assignedBy":1,"assigned":"2021-10-05T14:48:00.000Z"},{"answerId":114,"assignedBy":1,"assigned":"2021-10-05T14:48:00.000Z"}],"source":1,"status":2,"createdBy":0,"created":"2021-10-05T14:48:00.000Z"}]},{"groupId":22,"title":"Taxes","questions":[{"groupId":22,"questionId":201,"text":"Which promocode do we apply?","words":[],"answers":[],"source":1,"status":2,"createdBy":0,"created":"2021-10-05T14:48:00.000Z"},{"groupId":22,"questionId":202,"text":"Which promocode for client do we apply?","words":[],"answers":[{"answerId":111,"assignedBy":1,"assigned":"2021-10-05T14:48:00.000Z"}],"source":1,"status":2,"createdBy":0,"created":"2021-10-05T14:48:00.000Z"}]},{"groupId":33,"title":"Client settings","questions":[{"groupId":33,"questionId":301,"text":"Does client has promocode?","words":[],"answers":[{"answerId":222,"assignedBy":1,"assigned":"2021-10-05T14:48:00.000Z"}],"source":1,"status":2,"createdBy":0,"created":"2021-10-05T14:48:00.000Z"},{"groupId":33,"questionId":302,"text":"What promocode do we use?","words":[],"answers":[{"answerId":114,"assignedBy":1,"assigned":"2021-10-05T14:48:00.000Z"}],"source":1,"status":2,"createdBy":0,"created":"2021-10-05T14:48:00.000Z"},{"groupId":33,"questionId":303,"text":"Why taxes are less than 5%?","words":[],"answers":[{"answerId":111,"assignedBy":1,"assigned":"2021-10-05T14:48:00.000Z"},{"answerId":114,"assignedBy":1,"assigned":"2021-10-05T14:48:00.000Z"}],"source":1,"status":2,"createdBy":0,"created":"2021-10-05T14:48:00.000Z"},{"groupId":33,"questionId":304,"text":"When do we do something?","words":[],"answers":[{"answerId":113,"assignedBy":1,"assigned":"2021-10-05T14:48:00.000Z"}],"source":1,"status":2,"createdBy":0,"created":"2021-10-05T14:48:00.000Z"}]}]')},105:function(e){e.exports=JSON.parse('[{"userId":111,"name":"Pera","role":"Admin","department":"Sales"},{"userId":222,"name":"Marina","role":"User","department":"Development"},{"userId":333,"name":"Jack","role":"User","department":"Development"}]')},122:function(e,t,n){},123:function(e,t,n){},241:function(e,t,n){},270:function(e,t,n){"use strict";n.r(t);var r,s=n(62),a=n(1),o=n.n(a),i=n(53),c=n(25),u=n(11),d=n(34),l=n(63),b=n(106),j=n(5),p=n(2),O=n(13),h=n(3),f=n.n(h),g=n(10),m=n(103),x=function(){return m.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{created:new Date(e.created)})}))},v="SUPPORT_ANSWERS";!function(e){e.GET_ALL_ANSWERS="GET_ALL_ANSWERS",e.GET_ANSWER="GET_ANSWER",e.ADD_ANSWER="ADD_ANSWER",e.EDIT_ANSWER="EDIT_ANSWER",e.REMOVE_ANSWER="REMOVE_ANSWER",e.STORE_ANSWER="STORE_ANSWER",e.CANCEL_ANSWER="CANCEL_ANSWER"}(r||(r={}));var w,S=function(){return function(e){try{e({type:r.ADD_ANSWER})}catch(t){console.error(t)}}},I=function(e,t){return function(){var n=Object(g.a)(f.a.mark((function n(s,a){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,"add"!==t){n.next=6;break}return s({type:r.STORE_ANSWER,answer:e}),n.abrupt("return",Promise.resolve(a().answerState.answer.answerId));case 6:s({type:r.STORE_ANSWER,answer:e});case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.error(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e,t){return n.apply(this,arguments)}}()},y=n(104),E=function(){return y.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{questions:e.questions.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{answers:e.answers.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{assigned:new Date(e.assigned)})})),created:new Date(e.created)})}))})}))};!function(e){e.GET_ALL_QUESTIONS="GET_ALL_QUESTIONS",e.GET_QUESTION="GET_QUESTION",e.ADD_QUESTION="ADD_QUESTION",e.EDIT_QUESTION="EDIT_QUESTION",e.REMOVE_QUESTION="REMOVE_QUESTION",e.STORE_QUESTION="STORE_QUESTION",e.CANCEL_QUESTION="CANCEL_QUESTION",e.ADD_GROUP="ADD_GROUP",e.EDIT_GROUP="EDIT_GROUP",e.REMOVE_GROUP="REMOVE_GROUP",e.STORE_GROUP="STORE_GROUP",e.REMOVE_QUESTION_ANSWER="REMOVE_QUESTION_ANSWER",e.ASSIGN_QUESTION_ANSWER="ASSIGN_QUESTION_ANSWER",e.SET_IS_DETAIL="SET_IS_DETAIL",e.SET_LAST_ANSWER_ID="SET_LAST_ANSWER_ID"}(w||(w={}));var q,A=function(e){return function(){var t=Object(g.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:w.GET_QUESTION,questionId:e})}catch(r){console.error(r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},N=function(e,t,n,r){return function(){var r=Object(g.a)(f.a.mark((function r(s){return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,T();case 3:s({type:w.ASSIGN_QUESTION_ANSWER,groupId:e,questionId:t,answerId:n}),s(A(t)),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.error(r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()},T=function(){return new Promise((function(e,t){setTimeout((function(){e({status:200,"content-type":"application/json",data:{results:1}})}),50)}))},R="SUPPORT_QUESTIONS",_={groupId:0,questionId:0,text:"",words:[],source:0,status:0,answers:[],createdBy:0,created:new Date},k={groupId:0,title:"",questions:[]},G={questionGroups:[],question:void 0,loading:!1,formMode:"display",groupIdEditing:0,isDetail:!1},C=Object.keys(w).filter((function(e){return e!==w.GET_ALL_QUESTIONS})),D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.GET_ALL_QUESTIONS:var n,r=Object(O.a)(t.questionGroups);try{for(r.s();!(n=r.n()).done;){var s,a=n.value,o=Object(O.a)(a.questions);try{for(o.s();!(s=o.n()).done;){var i=s.value;i.words=i.text.split(" ")}}catch(y){o.e(y)}finally{o.f()}}}catch(y){r.e(y)}finally{r.f()}return Object(p.a)(Object(p.a)({},e),{},{questionGroups:t.questionGroups});case w.GET_QUESTION:var c,u=void 0,d=Object(O.a)(e.questionGroups);try{for(d.s();!(c=d.n()).done;){var l=c.value;if(u=l.questions.find((function(e){return e.questionId===t.questionId})),u)break}}catch(y){d.e(y)}finally{d.f()}return Object(p.a)(Object(p.a)({},e),{},{question:u});case w.ADD_QUESTION:var b=e.questionGroups.find((function(e){return e.groupId===t.groupId})),h=0===b.questions.length?1:Math.max.apply(Math,Object(j.a)(b.questions.map((function(e){return e.questionId}))))+1;return Object(p.a)(Object(p.a)({},e),{},{formMode:"add",question:Object(p.a)(Object(p.a)({},_),{},{groupId:t.groupId,questionId:h})});case w.EDIT_QUESTION:var f=e.questionGroups.find((function(e){return e.groupId===t.groupId})),g=f.questions.find((function(e){return e.questionId===t.questionId}));return Object(p.a)(Object(p.a)({},e),{},{formMode:"edit",question:g});case w.STORE_QUESTION:return"add"===e.formMode?Object(p.a)(Object(p.a)({},e),{},{formMode:"edit",questionGroups:e.questionGroups.map((function(e){return e.groupId!==t.question.groupId?Object(p.a)(Object(p.a)({},e),{},{questions:Object(j.a)(e.questions)}):Object(p.a)(Object(p.a)({},e),{},{questions:[].concat(Object(j.a)(e.questions),[Object(p.a)({},t.question)])})}))}):Object(p.a)(Object(p.a)({},e),{},{formMode:"edit",questionGroups:e.questionGroups.map((function(e){return e.groupId!==t.question.groupId?Object(p.a)(Object(p.a)({},e),{},{questions:Object(j.a)(e.questions)}):Object(p.a)(Object(p.a)({},e),{},{questions:e.questions.map((function(e){return e.questionId!==t.question.questionId?e:Object(p.a)({},t.question)}))})}))});case w.CANCEL_QUESTION:return Object(p.a)(Object(p.a)({},e),{},{formMode:"display"});case w.REMOVE_QUESTION:return Object(p.a)(Object(p.a)({},e),{},{formMode:"display",question:void 0,questionGroups:e.questionGroups.map((function(e){return e.groupId!==t.groupId?Object(p.a)(Object(p.a)({},e),{},{questions:Object(j.a)(e.questions)}):Object(p.a)(Object(p.a)({},e),{},{questions:e.questions.filter((function(e){return e.questionId!==t.questionId}))})}))});case w.REMOVE_QUESTION_ANSWER:return Object(p.a)(Object(p.a)({},e),{},{questionGroups:e.questionGroups.map((function(e){return e.groupId!==t.groupId?Object(p.a)(Object(p.a)({},e),{},{questions:Object(j.a)(e.questions)}):Object(p.a)(Object(p.a)({},e),{},{questions:e.questions.map((function(e){return e.questionId!==t.questionId?Object(p.a)(Object(p.a)({},e),{},{answers:Object(j.a)(e.answers)}):Object(p.a)(Object(p.a)({},e),{},{answers:e.answers.filter((function(e){return e.answerId!==t.answerId}))})}))})}))});case w.ASSIGN_QUESTION_ANSWER:var m=t.groupId,x=t.questionId,v=t.answerId;return Object(p.a)(Object(p.a)({},e),{},{questionGroups:e.questionGroups.map((function(e){return e.groupId!==m?Object(p.a)(Object(p.a)({},e),{},{questions:Object(j.a)(e.questions)}):Object(p.a)(Object(p.a)({},e),{},{questions:e.questions.map((function(e){return e.questionId!==x?Object(p.a)(Object(p.a)({},e),{},{answers:Object(j.a)(e.answers)}):Object(p.a)(Object(p.a)({},e),{},{answers:[].concat(Object(j.a)(e.answers),[{answerId:v,assignedBy:1,assigned:new Date}])})}))})}))});case w.SET_IS_DETAIL:return Object(p.a)(Object(p.a)({},e),{},{isDetail:t.isDetail});case w.ADD_GROUP:var S=Math.max.apply(Math,Object(j.a)(e.questionGroups.map((function(e){return e.groupId}))))+1;return Object(p.a)(Object(p.a)({},e),{},{groupIdEditing:S,questionGroups:[].concat(Object(j.a)(e.questionGroups),[Object(p.a)(Object(p.a)({},k),{},{title:"New Section",groupId:S})])});case w.EDIT_GROUP:var I=e.questionGroups.find((function(e){return e.groupId===t.groupId}));return Object(p.a)(Object(p.a)({},e),{},{groupIdEditing:I.groupId});case w.STORE_GROUP:return Object(p.a)(Object(p.a)({},e),{},{groupIdEditing:0,questionGroups:e.questionGroups.map((function(e){return e.groupId!==t.group.groupId?e:Object(p.a)(Object(p.a)({},e),{},{title:t.group.title})}))});case w.REMOVE_GROUP:return Object(p.a)(Object(p.a)({},e),{},{questionGroups:e.questionGroups.reduce((function(e,n){return n.groupId!==t.groupId&&e.push(Object(p.a)(Object(p.a)({},n),{},{questions:Object(j.a)(n.questions)})),e}),[])});default:return e}},Q={answerId:0,text:"",words:[],options:[],createdBy:0,created:new Date},U={answers:[],answer:void 0,loading:!1,formMode:"display"},M=Object.keys(r).filter((function(e){return e!==r.GET_ALL_ANSWERS})),B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.GET_ALL_ANSWERS:return Object(p.a)(Object(p.a)({},e),{},{answers:t.answers.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{words:e.text.split(" ")})}))});case r.GET_ANSWER:var n=e.answers.find((function(e){return e.answerId===t.answerId}));return Object(p.a)(Object(p.a)({},e),{},{answer:n});case r.ADD_ANSWER:return Object(p.a)(Object(p.a)({},e),{},{formMode:"add",answer:Object(p.a)(Object(p.a)({},Q),{},{answerId:0===e.answers.length?1:Math.max.apply(Math,Object(j.a)(e.answers.map((function(e){return e.answerId}))))+1})});case r.EDIT_ANSWER:var s=e.answers.find((function(e){return e.answerId===t.answerId}));return Object(p.a)(Object(p.a)({},e),{},{formMode:"edit",answer:Object(p.a)(Object(p.a)({},s),{},{words:s.text.split(" ")})});case r.STORE_ANSWER:var a=t.answer,o=a,i=o.answerId,c=[];return"add"===e.formMode?(-1===i&&(a.answerId=0===e.answers.length?1:Math.max.apply(Math,Object(j.a)(e.answers.map((function(e){return e.answerId}))))+1),c=[].concat(Object(j.a)(e.answers),[Object(p.a)(Object(p.a)({},a),{},{words:a.text.split(" ")})])):c=e.answers.map((function(e){return e.answerId===i?Object(p.a)(Object(p.a)({},a),{},{words:a.text.split(" ")}):e})),Object(p.a)(Object(p.a)({},e),{},{formMode:"edit",answers:c,answer:a});case r.CANCEL_ANSWER:return Object(p.a)(Object(p.a)({},e),{},{formMode:"display"});case r.REMOVE_ANSWER:return Object(p.a)(Object(p.a)({},e),{},{formMode:"display",answers:e.answers.filter((function(e){return e.answerId!==t.answerId}))});default:return e}},L=n(105);!function(e){e.GET_ALL_USERS="GET_ALL_USERS",e.GET_USER="GET_USER"}(q||(q={}));var W=[],F={users:[],loading:!1,formMode:"display"},V=Object(l.b)({questionsState:function(e,t){var n=D(e,t);return C.includes(t.type)&&localStorage.setItem(R,JSON.stringify(n.questionGroups)),n},answerState:function(e,t){var n=B(e,t);return M.includes(t.type)&&localStorage.setItem(v,JSON.stringify(n.answers)),n},userState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.GET_ALL_USERS:return Object(p.a)(Object(p.a)({},e),{},{users:t.users.map((function(e){return Object(p.a)({},e)}))});case q.GET_USER:return Object(p.a)(Object(p.a)({},e),{},{user:t.user});default:return e}}});n(122),n(123);var P=n(6),Z=n(7),H=n(14),J=n(15),z=n(56),$=n.n(z),X=n(57),Y=n.n(X),K=n(58),ee=n.n(K),te=(n(77),n(0)),ne=["ref"];var re=Object(a.createRef)(),se=$.a,ae=function(e){Object(H.a)(n,e);var t=Object(J.a)(n);function n(e){var r;return Object(P.a)(this,n),(r=t.call(this,e)).state=void 0,r.onSuggestionsClearRequested=function(){r.setState({suggestions:[]})},r.anyWord=function(e,t){var n,r=Object(O.a)(e);try{for(r.s();!(n=r.n()).done;){var s,a=n.value,o=Object(O.a)(t);try{for(o.s();!(s=o.n()).done;){var i=s.value;if(a.test(i))return!0}}catch(c){o.e(c)}finally{o.f()}}}catch(c){r.e(c)}finally{r.f()}return!1},r.state={value:e.tekst||"",suggestions:r.getSuggestions(""),highlighted:""},r}return Object(Z.a)(n,[{key:"componentDidMount",value:function(){setTimeout((function(){setTimeout((function(){window.focus(),re.current.focus()}),500)}),100)}},{key:"render",value:function(){var e=this,t=this.state,n=t.value,r=t.suggestions;return Object(te.jsx)(se,{onSuggestionsClearRequested:this.onSuggestionsClearRequested,multiSection:!0,suggestions:r,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested.bind(this),onSuggestionSelected:this.onSuggestionSelected.bind(this),getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,renderSectionTitle:this.renderSectionTitle,getSectionSuggestions:this.getSectionSuggestions,onSuggestionHighlighted:this.onSuggestionHighlighted.bind(this),highlightFirstSuggestion:!0,renderInputComponent:this.renderInputComponent,renderSuggestionsContainer:this.renderSuggestionsContainer,inputProps:{placeholder:"Type 'promocode'",value:n,onChange:function(t,n){return e.onChange(t,n)}}})}},{key:"onSuggestionSelected",value:function(e,t){var n=t.suggestion;this.props.onSelectQuestion(n.questionId)}},{key:"renderSuggestion",value:function(e,t){var n=Y()(e.text,t.query),r=ee()(e.text,n);return Object(te.jsx)("span",{children:r.map((function(e,t){var n=e.highlight?"react-autosuggest__suggestion-match":void 0;return Object(te.jsx)("span",{className:n,children:e.text},t)}))})}},{key:"renderSectionTitle",value:function(e){return Object(te.jsx)("strong",{children:e.title})}},{key:"renderInputComponent",value:function(e){e.ref;var t=Object(s.a)(e,ne);return Object(te.jsx)("div",{children:Object(te.jsx)("input",Object(p.a)(Object(p.a)({},t),{},{ref:re}))})}},{key:"renderSuggestionsContainer",value:function(e){var t=e.containerProps,n=e.children;e.query;return Object(te.jsx)("div",Object(p.a)(Object(p.a)({},t),{},{children:Object(te.jsx)("span",{children:n})}))}},{key:"onChange",value:function(e,t){var n=t.newValue;t.method;this.setState({value:n})}},{key:"onSuggestionsFetchRequested",value:function(e){var t=e.value;this.setState({suggestions:this.getSuggestions(t)})}},{key:"getSuggestions",value:function(e){var t=this,n=e.trim().replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(""===n)return[];var r=n.split(" ").map((function(e){return new RegExp(e,"i")}));return this.props.questionGroups.map((function(e){return{groupId:e.groupId,title:e.title,questions:e.questions.filter((function(e){return t.anyWord(r,e.words)}))}})).filter((function(e){return e.questions.length>0}))}},{key:"getSuggestionValue",value:function(e){return e.text}},{key:"getSectionSuggestions",value:function(e){return e.questions}},{key:"onSuggestionHighlighted",value:function(e){this.setState({highlighted:e.suggestion})}}]),n}(a.Component),oe=n(39),ie=n(27),ce=n(16),ue=n(23),de=n(20);var le=$.a,be=function(e){Object(H.a)(n,e);var t=Object(J.a)(n);function n(e){var r;return Object(P.a)(this,n),(r=t.call(this,e)).state=void 0,r.onSuggestionsClearRequested=function(){r.setState({suggestions:[]})},r.anyWord=function(e,t){var n,r=Object(O.a)(e);try{for(r.s();!(n=r.n()).done;){var s,a=n.value,o=Object(O.a)(t);try{for(o.s();!(s=o.n()).done;){var i=s.value;if(a.test(i))return!0}}catch(c){o.e(c)}finally{o.f()}}}catch(c){r.e(c)}finally{r.f()}return!1},r.state={value:"",suggestions:r.getSuggestions(""),highlighted:""},r}return Object(Z.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.value,r=t.suggestions;return Object(te.jsx)(le,{onSuggestionsClearRequested:this.onSuggestionsClearRequested,multiSection:!1,suggestions:r,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested.bind(this),onSuggestionSelected:this.onSuggestionSelected.bind(this),getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,onSuggestionHighlighted:this.onSuggestionHighlighted.bind(this),highlightFirstSuggestion:!0,renderSuggestionsContainer:this.renderSuggestionsContainer,inputProps:{placeholder:"Search answers...",value:n,onChange:function(t,n){return e.onChange(t,n)}}})}},{key:"onSuggestionSelected",value:function(e,t){var n=t.suggestion;this.props.assignQuestionAnswer(this.props.question.groupId,this.props.question.questionId,n.answerId),this.setState({value:""})}},{key:"renderSuggestion",value:function(e,t){var n=Y()(e.text,t.query),r=ee()(e.text,n);return Object(te.jsx)("span",{children:r.map((function(e,t){var n=e.highlight?"react-autosuggest__suggestion-match":void 0;return Object(te.jsx)("span",{className:n,children:e.text},t)}))})}},{key:"renderSuggestionsContainer",value:function(e){var t=e.containerProps,n=e.children;e.query;return Object(te.jsx)("div",Object(p.a)(Object(p.a)({},t),{},{children:Object(te.jsx)("span",{children:n})}))}},{key:"onChange",value:function(e,t){var n=t.newValue;t.method;this.props.setAnswerText&&this.props.setAnswerText(n),this.setState({value:n})}},{key:"onSuggestionsFetchRequested",value:function(e){var t=e.value;this.setState({suggestions:this.getSuggestions(t)})}},{key:"getSuggestions",value:function(e){var t=this,n=e.trim().replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(""===n)return[];var r=n.split(" ").map((function(e){return new RegExp(e,"i")}));return this.props.answersUnassigned.filter((function(e){return t.anyWord(r,e.words)}))}},{key:"getSuggestionValue",value:function(e){return e.text}},{key:"onSuggestionHighlighted",value:function(e){this.setState({highlighted:e.suggestion})}}]),n}(a.Component),je=function(e){var t=e.question,n=e.questionAnswers,r=e.answers,s=e.canEdit,o=e.formMode,i=e.removeQuestionAnswer,c=e.assignQuestionAnswer,u=e.setIsDetail,d=null===r||void 0===r?void 0:r.filter((function(e){return!t.answers.map((function(e){return e.answerId})).includes(e.answerId)})),l=a.useState(""),b=Object(ce.a)(l,2),j=(b[0],b[1]);return Object(te.jsx)("div",{className:"name-container question-answers",children:n.length>-1&&Object(te.jsx)(te.Fragment,{children:Object(te.jsxs)("table",{width:"100%",children:[Object(te.jsx)("thead",{children:Object(te.jsxs)("tr",{children:[Object(te.jsx)("th",{children:0===n.length?"No resolutions yet":"Resolutions"}),s&&"display"!==o&&Object(te.jsx)("th",{})]})}),Object(te.jsxs)("tbody",{children:[n.map((function(e){return Object(te.jsxs)("tr",{children:[Object(te.jsxs)("td",{className:"name",title:"Assigned: ".concat(e.assigned.toLocaleDateString()," ").concat(e.assigned.toLocaleTimeString()),children:[e.answerId," ",e.text]}),s&&"display"!==o&&Object(te.jsx)("td",{children:Object(te.jsx)("button",{className:"button-remove",title:"Remove Answer",onClick:function(n){n.stopPropagation(),n.preventDefault(),i(t.groupId,t.questionId,e.answerId)},children:Object(te.jsx)(ue.a,{icon:de.c,color:"lightblue"})})})]},e.answerId)})),s&&"display"!==o&&Object(te.jsxs)("tr",{children:[Object(te.jsx)("td",{children:Object(te.jsx)(be,{question:t,answersUnassigned:d,assignQuestionAnswer:c,setAnswerText:function(e){j(e)}})}),Object(te.jsx)("td",{width:"35px",children:Object(te.jsx)("button",{className:"button-edit",title:"Add a new Answer",onClick:function(){return function(e){u(e);var t=document.getElementById("divDetailView");t.classList.add("detail-view-open"),t.style.zIndex="3"}(!0)},children:Object(te.jsx)(ue.a,{icon:de.b,color:"lightblue"})})})]})]})]})})})};function pe(e){var t=!!e.disabled;return Object(te.jsx)("select",{id:e.id,value:e.value,onChange:function(t){var n=t.currentTarget.selectedIndex,r=e.options[n];e.onChange(t,r.value)},disabled:t,children:e.options.map((function(e){return Object(te.jsx)("option",{value:e.value,children:e.label},e.value)}))})}var Oe=n(237)("#666ee8"),he=function(e){var t=Object(oe.a)({enableReinitialize:!0,initialValues:{groupId:e.question.groupId,questionId:e.question.questionId,text:e.question.text,source:e.question.source,status:e.question.status,answers:e.question.answers,createdBy:e.question.createdBy,created:e.question.created},validationSchema:ie.a({text:ie.b().max(150,"Must be 150 characters or less").required("Required")}),onSubmit:function(t){e.saveForm(t,e.formMode)}});return Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(te.jsx)("label",{className:"id",htmlFor:"questionId",children:"QuestionId:"}),Object(te.jsx)("span",{id:"questionId",children:t.values.questionId}),Object(te.jsx)("label",{htmlFor:"text",children:"Name"}),Object(te.jsx)("textarea",{id:"text",name:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.text,style:{width:"100%"},rows:2}),t.touched.text&&t.errors.text?Object(te.jsx)("div",{children:t.errors.text}):null,Object(te.jsx)("label",{htmlFor:"createdBy",children:"Source"}),Object(te.jsx)(pe,{id:"source",name:"source",options:e.sourceOptions,onChange:t.handleChange,value:t.values.source}),Object(te.jsx)("br",{}),Object(te.jsx)(je,{question:e.question,questionAnswers:e.questionAnswers,answers:e.answers,canEdit:e.canEdit,formMode:e.formMode,removeQuestionAnswer:e.removeQuestionAnswer,assignQuestionAnswer:e.assignQuestionAnswer,setIsDetail:e.setIsDetail}),Object(te.jsx)("br",{}),Object(te.jsx)("label",{htmlFor:"status",children:"Status"}),Object(te.jsx)(pe,{id:"status",name:"status",options:e.statusOptions,onChange:t.handleChange,value:t.values.status}),Object(te.jsx)("label",{htmlFor:"createdBy",children:"Created by"}),Object(te.jsx)(pe,{id:"createdBy",name:"createdBy",options:e.userOptions,onChange:t.handleChange,value:t.values.createdBy}),Object(te.jsxs)("div",{className:"buttons",children:[e.canEdit&&Object(te.jsx)("button",{onClick:function(){return e.cancel()},children:"Cancel"}),e.canEdit&&Object(te.jsx)("button",{type:"submit",children:"Save"})]})]}),Object(te.jsx)("label",{className:"id",htmlFor:"created",children:"Created:"}),Object(te.jsx)("span",{children:t.values.created.toLocaleDateString()})]})},fe=function(e){return Object(te.jsx)("div",{style:{height:"100%"},className:"formik-example formik-example--blue",children:Object(te.jsx)("div",{style:{height:"100%",background:Oe.blue[5],padding:"1rem 1rem"},children:Object(te.jsx)("div",{style:{borderRadius:"4px",boxShadow:"0 8px 16px rgba(0,0,0,.2)",background:"#fff",maxWidth:"90%",margin:"0 auto",padding:"1rem"},children:Object(te.jsx)("div",{className:"formik-example formik-example--blue",children:Object(te.jsx)(he,Object(p.a)({},e))})})})})},ge=function(e){var t=Object(oe.a)({enableReinitialize:!0,initialValues:{groupId:e.question.groupId,questionId:e.question.questionId,text:e.question.text,source:e.question.source,status:e.question.status,answers:e.question.answers,createdBy:e.question.createdBy,created:e.question.created,userOptions:e.userOptions,sourceOptions:e.sourceOptions,statusOptions:e.statusOptions},validationSchema:ie.a({text:ie.b().max(150,"Must be 150 characters or less").required("Required")}),onSubmit:function(e){}});return Object(te.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(te.jsx)("label",{className:"id",htmlFor:"questionId",children:"QuestionId:"}),Object(te.jsx)("span",{id:"questionId",children:t.values.questionId}),Object(te.jsx)("label",{htmlFor:"text"}),Object(te.jsx)("textarea",{id:"text",name:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.text,disabled:!0,style:{width:"100%"},rows:2}),t.touched.text&&t.errors.text?Object(te.jsx)("div",{children:t.errors.text}):null,Object(te.jsx)("label",{htmlFor:"createdBy",children:"Source"}),Object(te.jsx)(pe,{id:"source",name:"source",options:t.values.sourceOptions,onChange:t.handleChange,value:t.values.source,disabled:!0}),Object(te.jsx)("br",{}),Object(te.jsx)(je,{question:e.question,questionAnswers:e.questionAnswers,canEdit:e.canEdit,formMode:e.formMode,setIsDetail:e.setIsDetail}),Object(te.jsx)("br",{}),Object(te.jsx)("label",{htmlFor:"status",children:"Status"}),Object(te.jsx)(pe,{id:"status",name:"status",options:t.values.statusOptions,onChange:t.handleChange,value:t.values.status,disabled:!0}),Object(te.jsx)("label",{htmlFor:"createdBy",children:"Created by"}),Object(te.jsx)(pe,{id:"createdBy",name:"createdBy",options:t.values.userOptions,onChange:t.handleChange,value:t.values.createdBy,disabled:!0}),Object(te.jsx)("label",{className:"id",htmlFor:"created",children:"Created:"}),Object(te.jsx)("span",{children:t.values.created.toLocaleDateString()}),e.canEdit&&Object(te.jsxs)("div",{className:"buttons",children:[Object(te.jsx)("button",{onClick:function(){return e.edit()},children:"Edit"}),Object(te.jsx)("button",{onClick:function(){return e.remove()},children:"Remove"})]})]})},me=function(e){return Object(te.jsx)("div",{style:{height:"100%"},className:"formik-example formik-example--blue",children:Object(te.jsx)("div",{style:{height:"100%",background:Oe.blue[5],padding:"1rem 1rem"},children:Object(te.jsx)("div",{style:{borderRadius:"4px",boxShadow:"0 8px 16px rgba(0,0,0,.2)",background:"#fff",maxWidth:"90%",margin:"0 auto",padding:"1rem"},children:Object(te.jsx)("div",{className:"formik-example formik-example--blue",children:Object(te.jsx)(ge,Object(p.a)({},e))})})})})};function xe(){var e=Object(a.useState)({isHovered:!1}),t=Object(ce.a)(e,2),n=t[0],r=t[1],s=Object(a.useRef)(null),o=function(){return r({isHovered:!0})},i=function(){return r({isHovered:!1})};return Object(a.useEffect)((function(){var e=s.current;if(e)return e.addEventListener("mouseenter",(function(){return o()})),e.addEventListener("mouseleave",(function(){return i()})),function(){e.removeEventListener("mouseenter",(function(){return o()})),e.removeEventListener("mouseleave",(function(){return i()}))}}),[s.current]),[s,n]}var ve=function(e){var t=xe(),n=Object(ce.a)(t,2),r=n[0],s=n[1],a=e.question,o=e.onSelectQuestion,i=e.edit,c=e.remove,u=a.groupId,d=a.questionId;return Object(te.jsxs)("div",{ref:r,className:"name",children:[Object(te.jsx)("button",{className:"question-button",onClick:function(){return o(d)},children:a.text}),s.isHovered&&Object(te.jsx)("button",{className:"button-edit",title:"Edit",onClick:function(){return i(u,d)},children:Object(te.jsx)(ue.a,{icon:de.a,color:"lightblue"})}),s.isHovered&&Object(te.jsx)("button",{className:"button-remove",title:"Remove",onClick:function(){return c(u,d)},children:Object(te.jsx)(ue.a,{icon:de.c,color:"lightblue"})})]})},we=function(e){var t=xe(),n=Object(ce.a)(t,2),r=n[0],s=n[1],a=e.questionGroup,o=e.editGroup,i=e.removeGroup;return Object(te.jsxs)("div",{ref:r,className:"name",children:[Object(te.jsx)("span",{className:"question-group-title",children:a.title}),s.isHovered&&Object(te.jsx)("button",{className:"button-edit",title:"Edit Section",onClick:function(){return o(a.groupId)},children:Object(te.jsx)(ue.a,{icon:de.a,color:"lightblue"})}),s.isHovered&&0===a.questions.length&&Object(te.jsx)("button",{className:"button-remove",title:"Remove Section",onClick:function(){return i(a.groupId)},children:Object(te.jsx)(ue.a,{icon:de.c,color:"lightblue"})})]},a.groupId)},Se=function(e){var t=Object(oe.a)({enableReinitialize:!0,initialValues:{answerId:e.answer.answerId,text:e.answer.text,createdBy:e.answer.createdBy,created:e.answer.created},validationSchema:ie.a({text:ie.b().max(150,"Must be 150 characters or less").required("Required")}),onSubmit:function(t){e.saveForm(t,e.formMode)}});return Object(te.jsxs)("form",{onSubmit:t.handleSubmit,children:["add"!==e.formMode&&Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)("label",{className:"id",htmlFor:"answerId",children:"Answer Id: "}),Object(te.jsx)("span",{id:"answerId",children:t.values.answerId})]}),Object(te.jsx)("label",{htmlFor:"text",children:"Resolution"}),Object(te.jsx)("textarea",{id:"text",name:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.text,rows:2,style:{width:"100%"}}),t.touched.text&&t.errors.text?Object(te.jsx)("div",{children:t.errors.text}):null,Object(te.jsx)("label",{htmlFor:"createdBy",children:"Created by"}),Object(te.jsx)(pe,{id:"createdBy",name:"createdBy",options:e.userOptions,onChange:t.handleChange,value:t.values.createdBy}),Object(te.jsx)("label",{className:"id",htmlFor:"created",children:"Created:"}),Object(te.jsx)("span",{children:t.values.created.toLocaleDateString()}),Object(te.jsxs)("div",{className:"buttons",children:[Object(te.jsx)("button",{onClick:function(){return e.cancel()},children:"Cancel"}),Object(te.jsx)("button",{type:"submit",children:"Save"})]})]})},Ie=function(e){return Object(te.jsx)("div",{style:{height:"100%"},className:"formik-example formik-example--blue",children:Object(te.jsx)("div",{style:{height:"100%",background:Oe.blue[5],padding:"0.1rem 0.1rem"},children:Object(te.jsx)("div",{style:{borderRadius:"4px",boxShadow:"0 8px 16px rgba(0,0,0,.2)",background:"#fff",maxWidth:"90%",margin:"0 auto",padding:"0.5rem"},children:Object(te.jsx)("div",{className:"formik-example formik-example--blue",children:Object(te.jsx)(Se,Object(p.a)({},e))})})})})},ye=function(e){var t=e.groupId,n=e.questionId,r=(e.lastAnswer,e.addAndAssignNewAnswer);Object(a.useEffect)((function(){var e=document.getElementById("divDetailView");e.addEventListener("animationend",(function(){e.classList.contains("detail-view-close")?(e.style.zIndex="0",e.style.left="100%",e.classList.remove("detail-view-close")):e.style.left="60%"}))}),[]);var s=function(){var e=document.getElementById("divDetailView");e.classList.remove("detail-view-open"),e.classList.add("detail-view-close")};return Object(te.jsxs)("div",{id:"divDetailView",className:"detail-view",children:[Object(te.jsx)("button",{style:{position:"absolute",right:"10px"},onClick:s,children:"X"}),Object(te.jsxs)("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"5px 5px 15px 5px",background:Oe.blue[5]},children:[Object(te.jsx)("h4",{style:{marginTop:0,color:"white"},children:"Add and Assign new Answer"}),Object(te.jsx)(Ie,{answer:{answerId:-1,text:"argh",createdBy:0,created:new Date},formMode:"add",cancel:function(){},saveForm:function(e){r(t,n,e,"add"),s()},userOptions:e.userOptions})]})]})},Ee=[{label:"Unknown",value:0},{label:"Gmail",value:1},{label:"Outlook",value:2},{label:"Phone",value:3},{label:"Chat",value:4},{label:"Slack",value:5}],qe=[{label:"Unknown",value:0},{label:"In progress",value:1},{label:"Can't reproduce",value:2},{label:"Blocked",value:3},{label:"Complete",value:4}],Ae=function(e){var t=Object(u.f)().tekst,n=e.questionGroups,r=e.question,s=e.questionAnswers,o=e.answers,i=e.formMode,c=e.groupIdEditing,d=e.onSelectQuestion,l=e.add,b=e.edit,j=e.remove,O=e.cancel,h=e.saveForm,f=e.canEdit,g=e.addGroup,m=e.editGroup,x=e.removeGroup,v=e.storeGroup,w=e.removeQuestionAnswer,S=e.assignQuestionAnswer,I=e.setIsDetail,y=(e.isDetail,e.addAndAssignNewAnswer),E=e.userOptions,q=Object(a.useRef)(null);return setTimeout((function(){null!==q.current&&(q.current.select(),q.current.focus())}),100),Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)("div",{className:"name-container",children:[Object(te.jsxs)("div",{className:"two-columns",children:[Object(te.jsx)("div",{className:"a",children:Object(te.jsx)(ae,{questionGroups:n,tekst:t,onSelectQuestion:d})}),Object(te.jsx)("div",{className:"b"})]}),Object(te.jsx)("hr",{}),Object(te.jsx)("h4",{style:{textAlign:"center"},children:"Maintenance (visible only for Admins) "}),Object(te.jsxs)("div",{className:"two-columns",children:[Object(te.jsxs)("div",{className:"a",children:[Object(te.jsx)("h3",{children:"All Questions by sections"}),n&&n.map((function(e){return Object(te.jsxs)("div",{style:{paddingBottom:"5px"},children:[Object(te.jsxs)("div",{children:[c===e.groupId&&Object(te.jsx)("input",{ref:q,name:"groupTitle",type:"text",onBlur:function(t){return v(Object(p.a)(Object(p.a)({},e),{},{title:t.target.value}))},defaultValue:e.title}),c!==e.groupId&&Object(te.jsx)(we,{questionGroup:e,editGroup:m,removeGroup:x})]}),Object(te.jsxs)("div",{style:{marginLeft:"10px"},children:[e.questions.map((function(e){return Object(te.jsx)(ve,{question:e,onSelectQuestion:d,edit:b,remove:j},e.questionId)})),Object(te.jsx)("div",{style:{marginLeft:"5%"},children:Object(te.jsx)("button",{className:"button-add",title:"Add a new Question",onClick:function(){return l(e.groupId)},children:"Add a new Question"})})]})]},e.groupId)})),Object(te.jsx)("div",{style:{marginLeft:"1%"},children:Object(te.jsx)("button",{className:"button-add-group",title:"Add a new Section",onClick:function(){return g()},children:"Add a new Section"})})]}),Object(te.jsx)("div",{className:"b",children:n&&r&&Object(te.jsxs)("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"5px 5px 15px 5px",background:Oe.blue[5]},children:[Object(te.jsx)("h4",{style:{marginTop:0,color:"white"},children:"Question"}),"display"===i?Object(te.jsx)(me,{question:r,questionAnswers:s,answers:o,formMode:i,canEdit:f,edit:function(){return b(r.groupId,r.questionId)},remove:function(){return j(r.groupId,r.questionId)},removeQuestionAnswer:w,assignQuestionAnswer:S,setIsDetail:I,userOptions:E,sourceOptions:Ee,statusOptions:qe}):Object(te.jsx)(fe,{question:r,questionAnswers:s,answers:o,formMode:i,cancel:O,saveForm:function(e){return h(e,i)},canEdit:f,removeQuestionAnswer:w,assignQuestionAnswer:S,setIsDetail:I,userOptions:E,sourceOptions:Ee,statusOptions:qe})]})})]})]}),Object(te.jsx)(ye,{groupId:r?r.groupId:0,questionId:r?r.questionId:0,addAndAssignNewAnswer:y,userOptions:E})," "]})},Ne=function(e){var t=Object(u.f)().tekst,n=e.questionGroups,r=e.question,s=e.questionAnswers,a=e.answers,o=e.formMode,i=e.onSelectQuestion,c=e.cancel,d=e.saveForm,l=e.canEdit,b=e.removeQuestionAnswer,j=e.assignQuestionAnswer,p=e.setIsDetail,O=e.userOptions;return Object(te.jsx)("div",{className:"name-container",children:Object(te.jsxs)("div",{className:"two-columns",children:[Object(te.jsx)("div",{className:"a",children:Object(te.jsx)(ae,{questionGroups:n,tekst:t,onSelectQuestion:i})}),Object(te.jsx)("div",{className:"b",children:n&&r&&Object(te.jsxs)("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"5px 5px 15px 5px",background:Oe.blue[5]},children:[Object(te.jsx)("h4",{style:{marginTop:0,color:"white"},children:"Question"}),Object(te.jsx)(fe,{question:r,questionAnswers:s,answers:a,formMode:o,cancel:c,saveForm:function(e){return d(e,o)},canEdit:l,removeQuestionAnswer:b,assignQuestionAnswer:j,setIsDetail:p,userOptions:O,sourceOptions:Ee,statusOptions:qe})]})})]})})},Te=function(e,t){return{questionGroups:e.questionsState.questionGroups,question:e.questionsState.question,questionAnswers:(n=e.questionsState.question,r=e.answerState.answers,void 0===n||0===n.answers.length||void 0===r?[]:n.answers.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{text:r.find((function(t){return t.answerId===e.answerId})).text})})).sort((function(e,t){return e.assigned<t.assigned?1:-1}))),answers:e.answerState.answers,formMode:e.questionsState.formMode,groupIdEditing:e.questionsState.groupIdEditing,canEdit:t.canEdit,isDetail:e.questionsState.isDetail,userOptions:e.userState.users.map((function(e){return{label:e.name,value:e.userId}}))};var n,r},Re=function(e){return{onSelectQuestion:function(t){return e(A(t))},add:function(t){return e((n=t,function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:w.ADD_QUESTION,groupId:n})}catch(r){console.error(r)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var n},edit:function(t,n){return e(function(e,t){return function(){var n=Object(g.a)(f.a.mark((function n(r){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{r({type:w.EDIT_QUESTION,groupId:e,questionId:t})}catch(s){console.error(s)}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},remove:function(t,n){return e(function(e,t){return function(){var n=Object(g.a)(f.a.mark((function n(r){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,T();case 3:r({type:w.REMOVE_QUESTION,groupId:e,questionId:t}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.error(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))},saveForm:function(t,n){return e(function(e,t){return function(){var n=Object(g.a)(f.a.mark((function n(r){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,"add"!==t){n.next=7;break}return n.next=4,T();case 4:r({type:w.STORE_QUESTION,question:e}),n.next=10;break;case 7:return n.next=9,T();case 9:r({type:w.STORE_QUESTION,question:e});case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),console.error(n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))},cancel:function(){return e((function(e){try{e({type:w.CANCEL_QUESTION})}catch(t){console.error(t)}}))},addGroup:function(){return e(function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:w.ADD_GROUP})}catch(n){console.error(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},editGroup:function(t){return e(function(e){return function(){var t=Object(g.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:w.EDIT_GROUP,groupId:e})}catch(r){console.error(r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},removeGroup:function(t){return e(function(e){return function(){var t=Object(g.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T();case 3:n({type:w.REMOVE_GROUP,groupId:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(t))},storeGroup:function(t){return e(function(e){return function(){var t=Object(g.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:w.STORE_GROUP,group:e})}catch(r){console.error(r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},removeQuestionAnswer:function(t,n,r){return e(function(e,t,n){return function(){var r=Object(g.a)(f.a.mark((function r(s){return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,T();case 3:s({type:w.REMOVE_QUESTION_ANSWER,groupId:e,questionId:t,answerId:n}),s(A(t)),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.error(r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))},assignQuestionAnswer:function(t,n,r){return e(N(t,n,r))},setIsDetail:function(t){e(function(e){return function(){var t=Object(g.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:w.SET_IS_DETAIL,isDetail:e})}catch(r){console.error(r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},addAndAssignNewAnswer:function(t,n,r,s){e(function(e,t,n,r){return function(){var s=Object(g.a)(f.a.mark((function s(a){return f.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:try{a(S()),a(I(n,r)).then((function(n){console.log("answerId",n),a(N(e,t,n))}))}catch(o){console.error(o)}case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}(t,n,r,s))}}},_e={questions:Object(d.b)(Te,Re)(Ae),promoter:Object(d.b)(Te,Re)(Ne)},ke=function(){return Object(te.jsxs)(te.Fragment,{children:[Object(te.jsx)("h2",{style:{textAlign:"center",marginBlockStart:"0.66rem",marginBlockEnd:"0.1rem"},children:"Questions & Answers"}),Object(te.jsxs)("h5",{style:{textAlign:"center"},children:["A knowledge base is a great tool for sharing information.",Object(te.jsx)("br",{})," When you record your experiences and insights regularly, other members of your team reap the rewards."]}),Object(te.jsx)(_e.promoter,{canEdit:!1})]})},Ge=function(e){var t=e.answer,n=e.usedAnswers,r=e.edit,s=e.remove;return Object(te.jsxs)("tr",{children:[Object(te.jsx)("td",{className:"name",children:t.answerId}),Object(te.jsx)("td",{className:"name",children:t.text}),Object(te.jsx)("td",{children:Object(te.jsx)("button",{className:"button-edit",title:"Add a new Answer",onClick:function(){return r(t.answerId)},children:Object(te.jsx)(ue.a,{icon:de.a,color:"lightblue"})})}),Object(te.jsx)("td",{children:Object(te.jsx)("button",{disabled:n.map((function(e){return e.answerId})).includes(t.answerId),className:"button-remove",title:"Remove Answer",onClick:function(){return s(t.answerId)},children:Object(te.jsx)(ue.a,{icon:de.c,color:"lightblue"})})})]},t.answerId)},Ce=function(e){var t=e.answers,n=e.usedAnswers,r=e.edit,s=e.remove;return Object(te.jsxs)("table",{width:"100%",children:[Object(te.jsx)("thead",{children:Object(te.jsxs)("tr",{children:[Object(te.jsx)("th",{children:"Id"}),Object(te.jsx)("th",{children:"Answer"}),Object(te.jsx)("th",{}),Object(te.jsx)("th",{})]})}),Object(te.jsx)("tbody",{children:t.map((function(e){return Object(te.jsx)(Ge,{answer:e,usedAnswers:n,edit:r,remove:s},e.answerId)}))})]})},De=function(e){var t=Object(u.f)().slug,n=e.answers,r=e.answer,s=e.usedAnswers,a=e.formMode,o=e.add,i=e.edit,c=e.remove,d=e.cancel,l=e.saveForm,b=e.userOptions;return Object(te.jsxs)("div",{className:"name-container",children:[t,0===n.length&&Object(te.jsx)("div",{children:"No answers at all"}),n.length>0&&Object(te.jsxs)("div",{className:"two-columns",children:[Object(te.jsxs)("div",{className:"a",children:[Object(te.jsx)(Ce,{answers:n,usedAnswers:s,edit:i,remove:c}),Object(te.jsx)("button",{onClick:function(){return o()},children:"Add new"})]}),Object(te.jsxs)("div",{className:"b",children:["add"===a&&Object(te.jsxs)("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"5px 5px 15px 5px",background:Oe.blue[5]},children:[Object(te.jsx)("h4",{style:{marginTop:0,color:"white"},children:"New Answer"}),Object(te.jsx)(Ie,{answer:r,formMode:a,cancel:d,saveForm:function(e){return l(e,a)},userOptions:b})]}),"edit"===a&&Object(te.jsxs)("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"5px 5px 15px 5px",background:Oe.blue[5]},children:[Object(te.jsx)("h4",{style:{marginTop:0,color:"white"},children:"Edit Answer"}),Object(te.jsx)(Ie,{answer:r,formMode:a,cancel:d,saveForm:function(e){return l(e,a)},userOptions:b})]})]})]})]})},Qe=function(e){var t,n=[],r=Object(O.a)(e);try{for(r.s();!(t=r.n()).done;){var s,a=t.value,o=Object(O.a)(a.questions);try{for(o.s();!(s=o.n()).done;){var i=s.value;n=n.concat(i.answers)}}catch(c){o.e(c)}finally{o.f()}}}catch(c){r.e(c)}finally{r.f()}return n},Ue=Object(d.b)((function(e){return{answers:e.answerState.answers,answer:e.answerState.answer,formMode:e.answerState.formMode,usedAnswers:Qe(e.questionsState.questionGroups),userOptions:e.userState.users.map((function(e){return{label:e.name,value:e.userId}}))}}),(function(e){return{add:function(){return e(S())},edit:function(t){return e(function(e){return function(){var t=Object(g.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:r.EDIT_ANSWER,answerId:e})}catch(s){console.error(s)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},remove:function(t){return e(function(e){return function(){var t=Object(g.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:r.REMOVE_ANSWER,answerId:e})}catch(s){console.error(s)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},saveForm:function(t,n){return e(I(t,n))},cancel:function(){return e((function(e){try{e({type:r.CANCEL_ANSWER})}catch(t){console.error(t)}}))}}}))(De),Me=(n(241),n(46)),Be=(Oe.base,Oe.black,Object(s.a)(Oe,["base","black"]));Object.keys(Be).forEach((function(e){Me.css.global(".formik-example.formik-example--".concat(e," button[type='submit'],\n\t.formik-example.formik-example--").concat(e," button.primary"),{background:Oe[e][5]}),Me.css.global(".formik-example.formik-example--".concat(e," button[type='submit']:focus,\n\t  .formik-example.formik-example--").concat(e," button.primary:focus"),{background:Oe[e][6]}),Me.css.global(".formik-example.formik-example--".concat(e," button[type='submit']:active,\n\t  .formik-example.formik-example--").concat(e," button.primary:active"),{background:Oe[e][7]}),Me.css.global(".formik-example.formik-example--".concat(e," input:focus, .formik-example.formik-example--").concat(e," select:focus"),{borderColor:Oe[e][4],boxShadow:"inset 0 1px 1px rgba(0, 0, 0, 0.075),0 0 0 3px ".concat(Oe[e][1]),outline:"none"})}));var Le=function(e){return Object(te.jsx)(d.a,{store:e.store,children:Object(te.jsxs)(c.a,{basename:"/",children:[Object(te.jsx)("nav",{children:Object(te.jsxs)("ul",{children:[Object(te.jsx)("li",{children:Object(te.jsx)(c.b,{to:"/supporter/promo",children:"Supporter"})}),Object(te.jsx)("li",{children:Object(te.jsx)(c.b,{to:"/questions",children:"Questions"})}),Object(te.jsx)("li",{children:Object(te.jsx)(c.b,{to:"/answers/pera",children:"Answers"})}),Object(te.jsx)("li",{className:"push-right",children:Object(te.jsx)(c.b,{to:"/answers/sima",children:"Sign In"})})]})}),Object(te.jsx)("div",{children:Object(te.jsxs)(u.c,{children:[Object(te.jsx)(u.a,{exact:!0,path:"/supporter/:tekst?",children:Object(te.jsx)(ke,{})}),Object(te.jsx)(u.a,{path:"/questions",children:Object(te.jsx)(_e.questions,{canEdit:!0})}),Object(te.jsx)(u.a,{path:"/answers/:slug",children:Object(te.jsx)(Ue,{})})]})})]})})};localStorage.clear();var We=Object(l.c)(V,void 0,Object(l.a)(b.a));We.dispatch(function(){var e=Object(g.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=[],"localStorage"in window?(r=localStorage.getItem(R),console.log("sQuestions",r),n=null!==r?JSON.parse(r):E()):n=E(),t({type:w.GET_ALL_QUESTIONS,questionGroups:n})}catch(s){console.error(s)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),We.dispatch(function(){var e=Object(g.a)(f.a.mark((function e(t){var n,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=[],"localStorage"in window?(s=localStorage.getItem(v),console.log("SAnswers",s),n=null!==s?JSON.parse(s):x()):n=x(),t({type:r.GET_ALL_ANSWERS,answers:n})}catch(a){console.error(a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),We.dispatch(function(){var e=Object(g.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{"localStorage"in window&&null!==(n=localStorage.getItem("SUPPORT_USERS"))?JSON.parse(n).map((function(e){return W.push(e)})):L.map((function(e){return W.push(e)})),t({type:q.GET_ALL_USERS,users:W})}catch(r){console.error(r)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i.render(Object(te.jsx)(o.a.StrictMode,{children:Object(te.jsx)(Le,{store:We})}),document.getElementById("root"))},77:function(e,t,n){}},[[270,1,2]]]);
//# sourceMappingURL=main.3d1f3c9a.chunk.js.map