(this.webpackJsonpSupport=this.webpackJsonpSupport||[]).push([[0],{103:function(e){e.exports=JSON.parse('[{"answerId":111,"text":"You should do the following","words":[],"options":[],"createdBy":0,"created":"2021-10-05T14:48:00.000Z"},{"answerId":112,"text":"Also do the rest of important","words":[],"options":[],"createdBy":0,"created":"2021-10-05T14:48:00.000Z"},{"answerId":113,"text":"Try something else","words":[],"options":[],"createdBy":0,"created":"2021-10-05T14:48:00.000Z"},{"answerId":114,"text":"Contact our support","words":[],"options":[],"createdBy":0,"created":"2021-10-05T14:48:00.000Z"},{"answerId":115,"text":"Do whatever you want!","words":[],"options":[],"createdBy":0,"created":"2021-10-05T14:48:00.000Z"},{"answerId":116,"text":"Jump through the window.","words":[],"options":[],"createdBy":0,"created":"2021-10-05T14:48:00.000Z"}]')},104:function(e){e.exports=JSON.parse('[{"groupId":11,"title":"General settings","questions":[{"groupId":11,"questionId":101,"text":"Why promocode hasn\\"t been applied?","words":[],"answers":[111,112,114],"source":1,"status":2,"createdBy":0,"created":"2021-10-05T14:48:00.000Z"}]},{"groupId":22,"title":"Taxes","questions":[{"groupId":22,"questionId":201,"text":"Which promocode do we apply?","words":[],"answers":[],"source":1,"status":2,"createdBy":0,"created":"2021-10-05T14:48:00.000Z"},{"groupId":22,"questionId":202,"text":"Which promocode for client do we apply?","words":[],"answers":[111],"source":1,"status":2,"createdBy":0,"created":"2021-10-05T14:48:00.000Z"}]},{"groupId":33,"title":"Client settings","questions":[{"groupId":33,"questionId":301,"text":"Does client has promocode?","words":[],"answers":[222],"source":1,"status":2,"createdBy":0,"created":"2021-10-05T14:48:00.000Z"},{"groupId":33,"questionId":302,"text":"What promocode do we use?","words":[],"answers":[114],"source":1,"status":2,"createdBy":0,"created":"2021-10-05T14:48:00.000Z"},{"groupId":33,"questionId":303,"text":"Why taxes are less than 5%?","words":[],"answers":[111,114],"source":1,"status":2,"createdBy":0,"created":"2021-10-05T14:48:00.000Z"},{"groupId":33,"questionId":304,"text":"When do we do something?","words":[],"answers":[113],"source":1,"status":2,"createdBy":0,"created":"2021-10-05T14:48:00.000Z"}]}]')},105:function(e){e.exports=JSON.parse('[{"userId":111,"name":"Pera","role":"Admin","department":"Sales"},{"userId":222,"name":"Marina","role":"User","department":"Development"},{"userId":333,"name":"Jack","role":"User","department":"Development"}]')},122:function(e,t,n){},123:function(e,t,n){},241:function(e,t,n){},270:function(e,t,n){"use strict";n.r(t);var r,s=n(62),o=n(1),a=n.n(o),i=n(53),c=n(25),u=n(11),d=n(34),l=n(63),j=n(106),b=n(5),p=n(2),h=n(13),O=n(3),f=n.n(O),g=n(10),m=n(103),x=function(){return m.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{created:new Date(e.created)})}))},v="SUPPORT_ANSWERS";!function(e){e.GET_ALL_ANSWERS="GET_ALL_ANSWERS",e.GET_ANSWER="GET_ANSWER",e.ADD_ANSWER="ADD_ANSWER",e.EDIT_ANSWER="EDIT_ANSWER",e.REMOVE_ANSWER="REMOVE_ANSWER",e.STORE_ANSWER="STORE_ANSWER",e.CANCEL_ANSWER="CANCEL_ANSWER"}(r||(r={}));var w,S=n(104),I=function(){return S.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{questions:e.questions.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{created:new Date(e.created)})}))})}))};!function(e){e.GET_ALL_QUESTIONS="GET_ALL_QUESTIONS",e.GET_QUESTION="GET_QUESTION",e.ADD_QUESTION="ADD_QUESTION",e.EDIT_QUESTION="EDIT_QUESTION",e.REMOVE_QUESTION="REMOVE_QUESTION",e.STORE_QUESTION="STORE_QUESTION",e.CANCEL_QUESTION="CANCEL_QUESTION",e.ADD_GROUP="ADD_GROUP",e.EDIT_GROUP="EDIT_GROUP",e.REMOVE_GROUP="REMOVE_GROUP",e.STORE_GROUP="STORE_GROUP",e.REMOVE_QUESTION_ANSWER="REMOVE_QUESTION_ANSWER",e.ASSIGN_QUESTION_ANSWER="ASSIGN_QUESTION_ANSWER",e.SET_IS_DETAIL="SET_IS_DETAIL"}(w||(w={}));var y,E=function(e){return function(){var t=Object(g.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:w.GET_QUESTION,questionId:e})}catch(r){console.error(r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},q=function(){return new Promise((function(e,t){setTimeout((function(){e({status:200,"content-type":"application/json",data:{results:1}})}),50)}))},A=function(e){return new Promise((function(t,n){setTimeout((function(){t({status:200,"content-type":"application/json",data:{results:e}})}),50)}))},N="SUPPORT_QUESTIONS",T={groupId:0,questionId:0,text:"",words:[],source:0,status:0,answers:[],createdBy:0,created:new Date},R={groupId:0,title:"",questions:[]},_={questionGroups:[],question:void 0,loading:!1,formMode:"display",groupIdEditing:0,isDetail:!1},k=Object.keys(w).filter((function(e){return e!==w.GET_ALL_QUESTIONS})),C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.GET_ALL_QUESTIONS:console.log("action",t);var n,r=Object(h.a)(t.questionGroups);try{for(r.s();!(n=r.n()).done;){var s,o=n.value,a=Object(h.a)(o.questions);try{for(a.s();!(s=a.n()).done;){var i=s.value;i.words=i.text.split(" ")}}catch(v){a.e(v)}finally{a.f()}}}catch(v){r.e(v)}finally{r.f()}return Object(p.a)(Object(p.a)({},e),{},{questionGroups:t.questionGroups});case w.GET_QUESTION:var c,u=void 0,d=Object(h.a)(e.questionGroups);try{for(d.s();!(c=d.n()).done;){var l=c.value;if(u=l.questions.find((function(e){return e.questionId===t.questionId})),u)break}}catch(v){d.e(v)}finally{d.f()}return Object(p.a)(Object(p.a)({},e),{},{question:u});case w.ADD_QUESTION:var j=e.questionGroups.find((function(e){return e.groupId===t.groupId})),O=0===j.questions.length?1:Math.max.apply(Math,Object(b.a)(j.questions.map((function(e){return e.questionId}))))+1;return Object(p.a)(Object(p.a)({},e),{},{formMode:"add",question:Object(p.a)(Object(p.a)({},T),{},{groupId:t.groupId,questionId:O})});case w.EDIT_QUESTION:var f=e.questionGroups.find((function(e){return e.groupId===t.groupId})),g=f.questions.find((function(e){return e.questionId===t.questionId}));return Object(p.a)(Object(p.a)({},e),{},{formMode:"edit",question:g});case w.STORE_QUESTION:return"add"===e.formMode?Object(p.a)(Object(p.a)({},e),{},{formMode:"edit",questionGroups:e.questionGroups.map((function(e){return e.groupId!==t.question.groupId?Object(p.a)(Object(p.a)({},e),{},{questions:Object(b.a)(e.questions)}):Object(p.a)(Object(p.a)({},e),{},{questions:[].concat(Object(b.a)(e.questions),[Object(p.a)({},t.question)])})}))}):Object(p.a)(Object(p.a)({},e),{},{formMode:"edit",questionGroups:e.questionGroups.map((function(e){return e.groupId!==t.question.groupId?Object(p.a)(Object(p.a)({},e),{},{questions:Object(b.a)(e.questions)}):Object(p.a)(Object(p.a)({},e),{},{questions:e.questions.map((function(e){return e.questionId!==t.question.questionId?e:Object(p.a)({},t.question)}))})}))});case w.CANCEL_QUESTION:return Object(p.a)(Object(p.a)({},e),{},{formMode:"display"});case w.REMOVE_QUESTION:return Object(p.a)(Object(p.a)({},e),{},{formMode:"display",question:void 0,questionGroups:e.questionGroups.map((function(e){return e.groupId!==t.groupId?Object(p.a)(Object(p.a)({},e),{},{questions:Object(b.a)(e.questions)}):Object(p.a)(Object(p.a)({},e),{},{questions:e.questions.filter((function(e){return e.questionId!==t.questionId}))})}))});case w.REMOVE_QUESTION_ANSWER:return Object(p.a)(Object(p.a)({},e),{},{questionGroups:e.questionGroups.map((function(e){return e.groupId!==t.groupId?Object(p.a)(Object(p.a)({},e),{},{questions:Object(b.a)(e.questions)}):Object(p.a)(Object(p.a)({},e),{},{questions:e.questions.map((function(e){return e.questionId!==t.questionId?Object(p.a)(Object(p.a)({},e),{},{answers:Object(b.a)(e.answers)}):Object(p.a)(Object(p.a)({},e),{},{answers:e.answers.filter((function(e){return e!==t.answerId}))})}))})}))});case w.ASSIGN_QUESTION_ANSWER:return Object(p.a)(Object(p.a)({},e),{},{questionGroups:e.questionGroups.map((function(e){return e.groupId!==t.groupId?Object(p.a)(Object(p.a)({},e),{},{questions:Object(b.a)(e.questions)}):Object(p.a)(Object(p.a)({},e),{},{questions:e.questions.map((function(e){return e.questionId!==t.questionId?Object(p.a)(Object(p.a)({},e),{},{answers:Object(b.a)(e.answers)}):Object(p.a)(Object(p.a)({},e),{},{answers:[].concat(Object(b.a)(e.answers),[t.answerId])})}))})}))});case w.SET_IS_DETAIL:return Object(p.a)(Object(p.a)({},e),{},{isDetail:t.isDetail});case w.ADD_GROUP:var m=Math.max.apply(Math,Object(b.a)(e.questionGroups.map((function(e){return e.groupId}))))+1;return Object(p.a)(Object(p.a)({},e),{},{groupIdEditing:m,questionGroups:[].concat(Object(b.a)(e.questionGroups),[Object(p.a)(Object(p.a)({},R),{},{title:"New Section",groupId:m})])});case w.EDIT_GROUP:var x=e.questionGroups.find((function(e){return e.groupId===t.groupId}));return Object(p.a)(Object(p.a)({},e),{},{groupIdEditing:x.groupId});case w.STORE_GROUP:return Object(p.a)(Object(p.a)({},e),{},{groupIdEditing:0,questionGroups:e.questionGroups.map((function(e){return e.groupId!==t.group.groupId?e:Object(p.a)(Object(p.a)({},e),{},{title:t.group.title})}))});case w.REMOVE_GROUP:return Object(p.a)(Object(p.a)({},e),{},{questionGroups:e.questionGroups.reduce((function(e,n){return n.groupId!==t.groupId&&e.push(Object(p.a)(Object(p.a)({},n),{},{questions:Object(b.a)(n.questions)})),e}),[])});default:return e}},G={answerId:0,text:"",words:[],options:[],createdBy:0,created:new Date},Q={answers:[],answer:void 0,loading:!1,formMode:"display"},D=Object.keys(r).filter((function(e){return e!==r.GET_ALL_ANSWERS})),U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.GET_ALL_ANSWERS:return Object(p.a)(Object(p.a)({},e),{},{answers:t.answers.map((function(e){return Object(p.a)(Object(p.a)({},e),{},{words:e.text.split(" ")})}))});case r.GET_ANSWER:var n=e.answers.find((function(e){return e.answerId===t.answerId}));return Object(p.a)(Object(p.a)({},e),{},{answer:n});case r.ADD_ANSWER:return Object(p.a)(Object(p.a)({},e),{},{formMode:"add",answer:Object(p.a)(Object(p.a)({},G),{},{answerId:0===e.answers.length?1:Math.max.apply(Math,Object(b.a)(e.answers.map((function(e){return e.answerId}))))+1})});case r.EDIT_ANSWER:var s=e.answers.find((function(e){return e.answerId===t.answerId}));return Object(p.a)(Object(p.a)({},e),{},{formMode:"edit",answer:Object(p.a)(Object(p.a)({},s),{},{words:s.text.split(" ")})});case r.STORE_ANSWER:var o=t.answer,a=o,i=a.answerId,c=[];return"add"===e.formMode?(-1===i&&(i=0===e.answers.length?1:Math.max.apply(Math,Object(b.a)(e.answers.map((function(e){return e.answerId}))))+1),c=[].concat(Object(b.a)(e.answers),[Object(p.a)(Object(p.a)({},o),{},{words:o.text.split(" ")})])):c=e.answers.map((function(e){return e.answerId===i?Object(p.a)(Object(p.a)({},o),{},{words:o.text.split(" ")}):e})),Object(p.a)(Object(p.a)({},e),{},{formMode:"edit",answers:c});case r.CANCEL_ANSWER:return Object(p.a)(Object(p.a)({},e),{},{formMode:"display"});case r.REMOVE_ANSWER:return Object(p.a)(Object(p.a)({},e),{},{formMode:"display",answers:e.answers.filter((function(e){return e.answerId!==t.answerId}))});default:return e}},M=n(105);!function(e){e.GET_ALL_USERS="GET_ALL_USERS",e.GET_USER="GET_USER"}(y||(y={}));var B=[],L={users:[],loading:!1,formMode:"display"},W=Object(l.b)({questionState:function(e,t){var n=C(e,t);return k.includes(t.type)&&localStorage.setItem(N,JSON.stringify(n.questionGroups)),n},answerState:function(e,t){var n=U(e,t);return D.includes(t.type)&&localStorage.setItem(v,JSON.stringify(n.answers)),n},userState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y.GET_ALL_USERS:return Object(p.a)(Object(p.a)({},e),{},{users:t.users.map((function(e){return Object(p.a)({},e)}))});case y.GET_USER:return Object(p.a)(Object(p.a)({},e),{},{user:t.user});default:return e}}});n(122),n(123);var F=n(6),V=n(7),P=n(14),H=n(15),Z=n(56),J=n.n(Z),z=n(57),$=n.n(z),X=n(58),Y=n.n(X),K=(n(77),n(0)),ee=["ref"];var te=Object(o.createRef)(),ne=J.a,re=function(e){Object(P.a)(n,e);var t=Object(H.a)(n);function n(e){var r;return Object(F.a)(this,n),(r=t.call(this,e)).state=void 0,r.onSuggestionsClearRequested=function(){r.setState({suggestions:[]})},r.anyWord=function(e,t){var n,r=Object(h.a)(e);try{for(r.s();!(n=r.n()).done;){var s,o=n.value,a=Object(h.a)(t);try{for(a.s();!(s=a.n()).done;){var i=s.value;if(o.test(i))return!0}}catch(c){a.e(c)}finally{a.f()}}}catch(c){r.e(c)}finally{r.f()}return!1},r.state={value:e.tekst||"",suggestions:r.getSuggestions(""),highlighted:""},r}return Object(V.a)(n,[{key:"componentDidMount",value:function(){setTimeout((function(){setTimeout((function(){window.focus(),te.current.focus()}),500)}),100)}},{key:"render",value:function(){var e=this,t=this.state,n=t.value,r=t.suggestions;return Object(K.jsx)(ne,{onSuggestionsClearRequested:this.onSuggestionsClearRequested,multiSection:!0,suggestions:r,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested.bind(this),onSuggestionSelected:this.onSuggestionSelected.bind(this),getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,renderSectionTitle:this.renderSectionTitle,getSectionSuggestions:this.getSectionSuggestions,onSuggestionHighlighted:this.onSuggestionHighlighted.bind(this),highlightFirstSuggestion:!0,renderInputComponent:this.renderInputComponent,renderSuggestionsContainer:this.renderSuggestionsContainer,inputProps:{placeholder:"Type 'promocode'",value:n,onChange:function(t,n){return e.onChange(t,n)}}})}},{key:"onSuggestionSelected",value:function(e,t){var n=t.suggestion;this.props.onSelectQuestion(n.questionId)}},{key:"renderSuggestion",value:function(e,t){var n=$()(e.text,t.query),r=Y()(e.text,n);return Object(K.jsx)("span",{children:r.map((function(e,t){var n=e.highlight?"react-autosuggest__suggestion-match":void 0;return Object(K.jsx)("span",{className:n,children:e.text},t)}))})}},{key:"renderSectionTitle",value:function(e){return Object(K.jsx)("strong",{children:e.title})}},{key:"renderInputComponent",value:function(e){e.ref;var t=Object(s.a)(e,ee);return Object(K.jsx)("div",{children:Object(K.jsx)("input",Object(p.a)(Object(p.a)({},t),{},{ref:te}))})}},{key:"renderSuggestionsContainer",value:function(e){var t=e.containerProps,n=e.children;e.query;return Object(K.jsx)("div",Object(p.a)(Object(p.a)({},t),{},{children:Object(K.jsx)("span",{children:n})}))}},{key:"onChange",value:function(e,t){var n=t.newValue;t.method;this.setState({value:n})}},{key:"onSuggestionsFetchRequested",value:function(e){var t=e.value;this.setState({suggestions:this.getSuggestions(t)})}},{key:"getSuggestions",value:function(e){var t=this,n=e.trim().replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(""===n)return[];var r=n.split(" ").map((function(e){return new RegExp(e,"i")}));return this.props.questionGroups.map((function(e){return{groupId:e.groupId,title:e.title,questions:e.questions.filter((function(e){return t.anyWord(r,e.words)}))}})).filter((function(e){return e.questions.length>0}))}},{key:"getSuggestionValue",value:function(e){return e.text}},{key:"getSectionSuggestions",value:function(e){return e.questions}},{key:"onSuggestionHighlighted",value:function(e){this.setState({highlighted:e.suggestion})}}]),n}(o.Component),se=n(39),oe=n(27),ae=n(16),ie=n(23),ce=n(20);var ue=J.a,de=function(e){Object(P.a)(n,e);var t=Object(H.a)(n);function n(e){var r;return Object(F.a)(this,n),(r=t.call(this,e)).state=void 0,r.onSuggestionsClearRequested=function(){r.setState({suggestions:[]})},r.anyWord=function(e,t){var n,r=Object(h.a)(e);try{for(r.s();!(n=r.n()).done;){var s,o=n.value,a=Object(h.a)(t);try{for(a.s();!(s=a.n()).done;){var i=s.value;if(o.test(i))return!0}}catch(c){a.e(c)}finally{a.f()}}}catch(c){r.e(c)}finally{r.f()}return!1},r.state={value:"",suggestions:r.getSuggestions(""),highlighted:""},r}return Object(V.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.value,r=t.suggestions;return Object(K.jsx)(ue,{onSuggestionsClearRequested:this.onSuggestionsClearRequested,multiSection:!1,suggestions:r,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested.bind(this),onSuggestionSelected:this.onSuggestionSelected.bind(this),getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,onSuggestionHighlighted:this.onSuggestionHighlighted.bind(this),highlightFirstSuggestion:!0,renderSuggestionsContainer:this.renderSuggestionsContainer,inputProps:{placeholder:"Type 'contact'",value:n,onChange:function(t,n){return e.onChange(t,n)}}})}},{key:"onSuggestionSelected",value:function(e,t){var n=t.suggestion;this.props.assignQuestionAnswer(this.props.question.groupId,this.props.question.questionId,n.answerId)}},{key:"renderSuggestion",value:function(e,t){var n=$()(e.text,t.query),r=Y()(e.text,n);return Object(K.jsx)("span",{children:r.map((function(e,t){var n=e.highlight?"react-autosuggest__suggestion-match":void 0;return Object(K.jsx)("span",{className:n,children:e.text},t)}))})}},{key:"renderSuggestionsContainer",value:function(e){var t=e.containerProps,n=e.children;e.query;return Object(K.jsx)("div",Object(p.a)(Object(p.a)({},t),{},{children:Object(K.jsx)("span",{children:n})}))}},{key:"onChange",value:function(e,t){var n=t.newValue;t.method;this.props.setAnswerText&&this.props.setAnswerText(n),this.setState({value:n})}},{key:"onSuggestionsFetchRequested",value:function(e){var t=e.value;this.setState({suggestions:this.getSuggestions(t)})}},{key:"getSuggestions",value:function(e){var t=this,n=e.trim().replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(""===n)return[];var r=n.split(" ").map((function(e){return new RegExp(e,"i")}));return this.props.answersUnassigned.filter((function(e){return t.anyWord(r,e.words)}))}},{key:"getSuggestionValue",value:function(e){return e.text}},{key:"onSuggestionHighlighted",value:function(e){this.setState({highlighted:e.suggestion})}}]),n}(o.Component),le=function(e){var t=e.question,n=e.questionAnswers,r=e.answers,s=e.canEdit,a=e.formMode,i=e.removeQuestionAnswer,c=e.assignQuestionAnswer,u=e.setIsDetail,d=null===r||void 0===r?void 0:r.filter((function(e){return!t.answers.includes(e.answerId)})),l=o.useState(""),j=Object(ae.a)(l,2),b=(j[0],j[1]);return Object(K.jsx)("div",{className:"name-container",children:n.length>-1&&Object(K.jsx)(K.Fragment,{children:Object(K.jsxs)("table",{width:"100%",children:[Object(K.jsx)("thead",{children:Object(K.jsxs)("tr",{children:[Object(K.jsx)("th",{children:0===n.length?"No answers yet":"Answers"}),s&&"display"!==a&&Object(K.jsx)("th",{})]})}),Object(K.jsxs)("tbody",{children:[n.map((function(e){return Object(K.jsxs)("tr",{children:[Object(K.jsx)("td",{className:"name",children:e.text}),s&&"display"!==a&&Object(K.jsx)("td",{children:Object(K.jsx)("button",{className:"button-remove",title:"Remove Answer",onClick:function(n){n.stopPropagation(),n.preventDefault(),i(t.groupId,t.questionId,e.answerId)},children:Object(K.jsx)(ie.a,{icon:ce.c,color:"lightblue"})})})]},e.answerId)})),s&&"display"!==a&&Object(K.jsxs)("tr",{children:[Object(K.jsx)("td",{children:Object(K.jsx)(de,{question:t,answersUnassigned:d,assignQuestionAnswer:c,setAnswerText:function(e){b(e)}})}),Object(K.jsx)("td",{width:"35px",children:Object(K.jsx)("button",{className:"button-edit",title:"Add a new Answer",onClick:function(){return function(e){u(e);var t=document.getElementById("divDetailView");t.classList.add("detail-view-open"),t.style.zIndex="3"}(!0)},children:Object(K.jsx)(ie.a,{icon:ce.b,color:"lightblue"})})})]})]})]})})})};function je(e){var t=!!e.disabled;return Object(K.jsx)("select",{id:e.id,value:e.value,onChange:function(t){var n=t.currentTarget.selectedIndex,r=e.options[n];e.onChange(t,r.value)},disabled:t,children:e.options.map((function(e){return Object(K.jsx)("option",{value:e.value,children:e.label},e.value)}))})}var be=n(237)("#666ee8"),pe=function(e){var t=Object(se.a)({enableReinitialize:!0,initialValues:{groupId:e.question.groupId,questionId:e.question.questionId,text:e.question.text,source:e.question.source,status:e.question.status,answers:e.question.answers,createdBy:e.question.createdBy,created:e.question.created},validationSchema:oe.a({text:oe.b().max(150,"Must be 150 characters or less").required("Required")}),onSubmit:function(t){e.saveForm(t,e.formMode)}});return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(K.jsx)("label",{htmlFor:"questionId",children:"QuestionId"}),Object(K.jsx)("input",{id:"questionId",name:"questionId",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.questionId,disabled:!0,style:{width:"50px"}}),t.touched.questionId&&t.errors.questionId?Object(K.jsx)("div",{children:t.errors.questionId}):null,Object(K.jsx)("label",{htmlFor:"text",children:"Name"}),Object(K.jsx)("textarea",{id:"text",name:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.text,style:{width:"100%"},rows:3}),t.touched.text&&t.errors.text?Object(K.jsx)("div",{children:t.errors.text}):null,Object(K.jsx)("label",{htmlFor:"createdBy",children:"Source"}),Object(K.jsx)(je,{id:"source",name:"source",options:e.sourceOptions,onChange:t.handleChange,value:t.values.source}),Object(K.jsx)("label",{htmlFor:"status",children:"Status"}),Object(K.jsx)(je,{id:"status",name:"status",options:e.statusOptions,onChange:t.handleChange,value:t.values.status}),Object(K.jsx)("label",{htmlFor:"createdBy",children:"Created by"}),Object(K.jsx)(je,{id:"createdBy",name:"createdBy",options:e.userOptions,onChange:t.handleChange,value:t.values.createdBy}),Object(K.jsxs)("div",{className:"buttons",children:[e.canEdit&&Object(K.jsx)("button",{onClick:function(){return e.cancel()},children:"Cancel"}),e.canEdit&&Object(K.jsx)("button",{type:"submit",children:"Save"})]})]}),Object(K.jsx)("br",{}),Object(K.jsx)(le,{question:e.question,questionAnswers:e.questionAnswers,answers:e.answers,canEdit:e.canEdit,formMode:e.formMode,removeQuestionAnswer:e.removeQuestionAnswer,assignQuestionAnswer:e.assignQuestionAnswer,setIsDetail:e.setIsDetail})]})},he=function(e){return Object(K.jsx)("div",{style:{height:"100%"},className:"formik-example formik-example--blue",children:Object(K.jsx)("div",{style:{height:"100%",background:be.blue[5],padding:"2rem 1rem"},children:Object(K.jsx)("div",{style:{borderRadius:"4px",boxShadow:"0 8px 16px rgba(0,0,0,.2)",background:"#fff",maxWidth:"90%",margin:"0 auto",padding:"1rem"},children:Object(K.jsx)("div",{className:"formik-example formik-example--blue",children:Object(K.jsx)(pe,Object(p.a)({},e))})})})})},Oe=function(e){var t=Object(se.a)({enableReinitialize:!0,initialValues:{groupId:e.question.groupId,questionId:e.question.questionId,text:e.question.text,source:e.question.source,status:e.question.status,answers:e.question.answers,createdBy:e.question.createdBy,created:e.question.created,userOptions:e.userOptions,sourceOptions:e.sourceOptions,statusOptions:e.statusOptions},validationSchema:oe.a({text:oe.b().max(150,"Must be 150 characters or less").required("Required")}),onSubmit:function(e){}});return Object(K.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(K.jsx)("label",{htmlFor:"text",children:"QuestionId"}),Object(K.jsx)("input",{id:"questionId",name:"questionId",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.questionId,disabled:!0,style:{width:"50px"}}),t.touched.questionId&&t.errors.questionId?Object(K.jsx)("div",{children:t.errors.questionId}):null,Object(K.jsx)("label",{htmlFor:"text"}),Object(K.jsx)("textarea",{id:"text",name:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.text,disabled:!0,style:{width:"100%"},rows:3}),t.touched.text&&t.errors.text?Object(K.jsx)("div",{children:t.errors.text}):null,Object(K.jsx)("label",{htmlFor:"createdBy",children:"Source"}),Object(K.jsx)(je,{id:"source",name:"source",options:t.values.sourceOptions,onChange:t.handleChange,value:t.values.source,disabled:!0}),Object(K.jsx)("label",{htmlFor:"status",children:"Status"}),Object(K.jsx)(je,{id:"status",name:"status",options:t.values.statusOptions,onChange:t.handleChange,value:t.values.status,disabled:!0}),Object(K.jsx)("label",{htmlFor:"createdBy",children:"Created by"}),Object(K.jsx)(je,{id:"createdBy",name:"createdBy",options:t.values.userOptions,onChange:t.handleChange,value:t.values.createdBy,disabled:!0}),Object(K.jsx)("br",{}),Object(K.jsx)(le,{question:e.question,questionAnswers:e.questionAnswers,canEdit:e.canEdit,formMode:e.formMode,setIsDetail:e.setIsDetail}),e.canEdit&&Object(K.jsxs)("div",{className:"buttons",children:[Object(K.jsx)("button",{onClick:function(){return e.edit()},children:"Edit"}),Object(K.jsx)("button",{onClick:function(){return e.remove()},children:"Remove"})]})]})},fe=function(e){return Object(K.jsx)("div",{style:{height:"100%"},className:"formik-example formik-example--blue",children:Object(K.jsx)("div",{style:{height:"100%",background:be.blue[5],padding:"2rem 1rem"},children:Object(K.jsx)("div",{style:{borderRadius:"4px",boxShadow:"0 8px 16px rgba(0,0,0,.2)",background:"#fff",maxWidth:"90%",margin:"0 auto",padding:"1rem"},children:Object(K.jsx)("div",{className:"formik-example formik-example--blue",children:Object(K.jsx)(Oe,Object(p.a)({},e))})})})})};function ge(){var e=Object(o.useState)({isHovered:!1}),t=Object(ae.a)(e,2),n=t[0],r=t[1],s=Object(o.useRef)(null),a=function(){return r({isHovered:!0})},i=function(){return r({isHovered:!1})};return Object(o.useEffect)((function(){var e=s.current;if(e)return e.addEventListener("mouseenter",(function(){return a()})),e.addEventListener("mouseleave",(function(){return i()})),function(){e.removeEventListener("mouseenter",(function(){return a()})),e.removeEventListener("mouseleave",(function(){return i()}))}}),[s.current]),[s,n]}var me=function(e){var t=ge(),n=Object(ae.a)(t,2),r=n[0],s=n[1],o=e.question,a=e.onSelectQuestion,i=e.edit,c=e.remove,u=o.groupId,d=o.questionId;return Object(K.jsxs)("div",{ref:r,className:"name",children:[Object(K.jsx)("button",{className:"question-button",onClick:function(){return a(d)},children:o.text}),s.isHovered&&Object(K.jsx)("button",{className:"button-edit",title:"Edit",onClick:function(){return i(u,d)},children:Object(K.jsx)(ie.a,{icon:ce.a,color:"lightblue"})}),s.isHovered&&Object(K.jsx)("button",{className:"button-remove",title:"Remove",onClick:function(){return c(u,d)},children:Object(K.jsx)(ie.a,{icon:ce.c,color:"lightblue"})})]})},xe=function(e){var t=ge(),n=Object(ae.a)(t,2),r=n[0],s=n[1],o=e.questionGroup,a=e.editGroup,i=e.removeGroup;return Object(K.jsxs)("div",{ref:r,className:"name",children:[Object(K.jsx)("span",{className:"question-group-title",children:o.title}),s.isHovered&&Object(K.jsx)("button",{className:"button-edit",title:"Edit Section",onClick:function(){return a(o.groupId)},children:Object(K.jsx)(ie.a,{icon:ce.a,color:"lightblue"})}),s.isHovered&&0===o.questions.length&&Object(K.jsx)("button",{className:"button-remove",title:"Remove Section",onClick:function(){return i(o.groupId)},children:Object(K.jsx)(ie.a,{icon:ce.c,color:"lightblue"})})]},o.groupId)},ve=function(e){var t=Object(se.a)({enableReinitialize:!0,initialValues:{answerId:e.answer.answerId,text:e.answer.text,createdBy:e.answer.createdBy,created:e.answer.created},validationSchema:oe.a({text:oe.b().max(150,"Must be 150 characters or less").required("Required")}),onSubmit:function(t){console.log("onSubmit values",t),e.saveForm(t,e.formMode)}});return Object(K.jsxs)("form",{onSubmit:t.handleSubmit,children:["add"!==e.formMode&&Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)("label",{htmlFor:"answerId",children:"Answer Id"}),Object(K.jsx)("input",{id:"answerId",name:"answerId",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.answerId,disabled:!0,style:{width:"50px"}}),t.touched.answerId&&t.errors.answerId?Object(K.jsx)("div",{children:t.errors.answerId}):null]}),Object(K.jsx)("label",{htmlFor:"text",children:"Resolution"}),Object(K.jsx)("textarea",{id:"text",name:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.text,rows:3,style:{width:"100%"}}),t.touched.text&&t.errors.text?Object(K.jsx)("div",{children:t.errors.text}):null,Object(K.jsx)("label",{htmlFor:"createdBy",children:"Created by"}),Object(K.jsx)(je,{id:"createdBy",name:"createdBy",options:e.userOptions,onChange:t.handleChange,value:t.values.createdBy}),Object(K.jsx)("label",{htmlFor:"created",children:"Created"}),Object(K.jsx)("input",{id:"created",name:"text",type:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.created.toLocaleDateString()}),t.touched.created&&t.errors.created?Object(K.jsx)("div",{children:t.errors.created}):null,Object(K.jsxs)("div",{className:"buttons",children:[Object(K.jsx)("button",{onClick:function(){return e.cancel()},children:"Cancel"}),Object(K.jsx)("button",{type:"submit",children:"Save"})]})]})},we=function(e){return Object(K.jsx)("div",{style:{height:"100%"},className:"formik-example formik-example--blue",children:Object(K.jsx)("div",{style:{height:"100%",background:be.blue[5],padding:"2rem 1rem"},children:Object(K.jsx)("div",{style:{borderRadius:"4px",boxShadow:"0 8px 16px rgba(0,0,0,.2)",background:"#fff",maxWidth:"90%",margin:"0 auto",padding:"1rem"},children:Object(K.jsx)("div",{className:"formik-example formik-example--blue",children:Object(K.jsx)(ve,Object(p.a)({},e))})})})})},Se=function(e){Object(o.useEffect)((function(){var e=document.getElementById("divDetailView");e.addEventListener("animationend",(function(){e.classList.contains("detail-view-close")?(e.style.zIndex="0",e.style.left="100%",e.classList.remove("detail-view-close")):e.style.left="60%"}))}),[]);return Object(K.jsxs)("div",{id:"divDetailView",className:"detail-view",children:[Object(K.jsx)("button",{style:{position:"absolute",right:"10px"},onClick:function(){var e=document.getElementById("divDetailView");e.classList.remove("detail-view-open"),e.classList.add("detail-view-close")},children:"X"}),Object(K.jsx)("h2",{children:"New Answer"}),Object(K.jsx)("div",{style:{width:"100%",border:"1px solid silver",borderRadius:"5px",padding:"0px"},children:Object(K.jsx)(we,{answer:{answerId:-1,text:"argh",createdBy:0,created:new Date},formMode:"add",cancel:function(){},saveForm:function(t){return e.storeNewAnswer(t,"add")},userOptions:e.userOptions})})]})},Ie=[{label:"Unknown",value:0},{label:"Gmail",value:1},{label:"Outlook",value:2},{label:"Phone",value:3},{label:"Chat",value:4},{label:"Slack",value:5}],ye=[{label:"Unknown",value:0},{label:"In progress",value:1},{label:"Can't reproduce",value:2},{label:"Blocked",value:3},{label:"Complete",value:4}],Ee=function(e){var t=Object(u.f)().tekst,n=e.questionGroups,r=e.question,s=e.questionAnswers,a=e.answers,i=e.formMode,c=e.groupIdEditing,d=e.onSelectQuestion,l=e.add,j=e.edit,b=e.remove,h=e.cancel,O=e.saveForm,f=e.canEdit,g=e.addGroup,m=e.editGroup,x=e.removeGroup,v=e.storeGroup,w=e.removeQuestionAnswer,S=e.assignQuestionAnswer,I=e.setIsDetail,y=(e.isDetail,e.storeNewAnswer),E=e.userOptions,q=Object(o.useRef)(null);return setTimeout((function(){null!==q.current&&(q.current.select(),q.current.focus())}),100),Object(K.jsxs)(K.Fragment,{children:[Object(K.jsxs)("div",{className:"name-container",children:[Object(K.jsxs)("div",{className:"two-columns",children:[Object(K.jsx)("div",{className:"a",children:Object(K.jsx)(re,{questionGroups:n,tekst:t,onSelectQuestion:d})}),Object(K.jsx)("div",{className:"b"})]}),Object(K.jsx)("hr",{}),Object(K.jsx)("h4",{style:{textAlign:"center"},children:"Maintenance (visible only for Admins) "}),Object(K.jsxs)("div",{className:"two-columns",children:[Object(K.jsxs)("div",{className:"a",children:[Object(K.jsx)("h3",{children:"All Questions by sections"}),n&&n.map((function(e){return Object(K.jsxs)("div",{style:{paddingBottom:"5px"},children:[Object(K.jsxs)("div",{children:[c===e.groupId&&Object(K.jsx)("input",{ref:q,name:"groupTitle",type:"text",onBlur:function(t){return v(Object(p.a)(Object(p.a)({},e),{},{title:t.target.value}))},defaultValue:e.title}),c!==e.groupId&&Object(K.jsx)(xe,{questionGroup:e,editGroup:m,removeGroup:x})]}),Object(K.jsxs)("div",{style:{marginLeft:"10px"},children:[e.questions.map((function(e){return Object(K.jsx)(me,{question:e,onSelectQuestion:d,edit:j,remove:b},e.questionId)})),Object(K.jsx)("div",{style:{marginLeft:"5%"},children:Object(K.jsx)("button",{className:"button-add",title:"Add a new Question",onClick:function(){return l(e.groupId)},children:"Add a new Question"})})]})]},e.groupId)})),Object(K.jsx)("div",{style:{marginLeft:"1%"},children:Object(K.jsx)("button",{className:"button-add-group",title:"Add a new Section",onClick:function(){return g()},children:"Add a new Section"})})]}),Object(K.jsx)("div",{className:"b",children:n&&r&&Object(K.jsxs)("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"10px"},children:[Object(K.jsx)("h4",{style:{marginTop:0},children:"Question"}),"display"===i?Object(K.jsx)(fe,{question:r,questionAnswers:s,answers:a,formMode:i,canEdit:f,edit:function(){return j(r.groupId,r.questionId)},remove:function(){return b(r.groupId,r.questionId)},removeQuestionAnswer:w,assignQuestionAnswer:S,setIsDetail:I,userOptions:E,sourceOptions:Ie,statusOptions:ye}):Object(K.jsx)(he,{question:r,questionAnswers:s,answers:a,formMode:i,cancel:h,saveForm:function(e){return O(e,i)},canEdit:f,removeQuestionAnswer:w,assignQuestionAnswer:S,setIsDetail:I,userOptions:E,sourceOptions:Ie,statusOptions:ye})]})})]})]}),Object(K.jsx)(Se,{storeNewAnswer:y,userOptions:E})," "]})},qe=function(e){var t=Object(u.f)().tekst,n=e.questionGroups,r=e.question,s=e.questionAnswers,o=e.answers,a=e.formMode,i=e.onSelectQuestion,c=e.cancel,d=e.saveForm,l=e.canEdit,j=e.removeQuestionAnswer,b=e.assignQuestionAnswer,p=e.setIsDetail,h=e.userOptions;return Object(K.jsx)("div",{className:"name-container",children:Object(K.jsxs)("div",{className:"two-columns",children:[Object(K.jsx)("div",{className:"a",children:Object(K.jsx)(re,{questionGroups:n,tekst:t,onSelectQuestion:i})}),Object(K.jsx)("div",{className:"b",children:n&&r&&Object(K.jsxs)("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"10px"},children:[Object(K.jsx)("h4",{style:{marginTop:0},children:"Question"}),Object(K.jsx)(he,{question:r,questionAnswers:s,answers:o,formMode:a,cancel:c,saveForm:function(e){return d(e,a)},canEdit:l,removeQuestionAnswer:j,assignQuestionAnswer:b,setIsDetail:p,userOptions:h,sourceOptions:Ie,statusOptions:ye})]})})]})})},Ae=function(e,t){if(void 0===e||0===e.answers.length||void 0===t)return[];var n=e.answers;return t.filter((function(e){return n.includes(e.answerId)}))},Ne=function(e,t){return{questionGroups:e.questionState.questionGroups,question:e.questionState.question,questionAnswers:Ae(e.questionState.question,e.answerState.answers),answers:e.answerState.answers,formMode:e.questionState.formMode,groupIdEditing:e.questionState.groupIdEditing,canEdit:t.canEdit,isDetail:e.questionState.isDetail,userOptions:e.userState.users.map((function(e){return{label:e.name,value:e.userId}}))}},Te=function(e){return{onSelectQuestion:function(t){return e(E(t))},add:function(t){return e((n=t,function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:w.ADD_QUESTION,groupId:n})}catch(r){console.error(r)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var n},edit:function(t,n){return e(function(e,t){return function(){var n=Object(g.a)(f.a.mark((function n(r){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{r({type:w.EDIT_QUESTION,groupId:e,questionId:t})}catch(s){console.error(s)}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},remove:function(t,n){return e(function(e,t){return function(){var n=Object(g.a)(f.a.mark((function n(r){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,q();case 3:r({type:w.REMOVE_QUESTION,groupId:e,questionId:t}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.error(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))},saveForm:function(t,n){return e(function(e,t){return function(){var n=Object(g.a)(f.a.mark((function n(r){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,"add"!==t){n.next=7;break}return n.next=4,q();case 4:r({type:w.STORE_QUESTION,question:e}),n.next=10;break;case 7:return n.next=9,q();case 9:r({type:w.STORE_QUESTION,question:e});case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),console.error(n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))},cancel:function(){return e((function(e){try{e({type:w.CANCEL_QUESTION})}catch(t){console.error(t)}}))},addGroup:function(){return e(function(){var e=Object(g.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:w.ADD_GROUP})}catch(n){console.error(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},editGroup:function(t){return e(function(e){return function(){var t=Object(g.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:w.EDIT_GROUP,groupId:e})}catch(r){console.error(r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},removeGroup:function(t){return e(function(e){return function(){var t=Object(g.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,q();case 3:n({type:w.REMOVE_GROUP,groupId:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(t))},storeGroup:function(t){return e(function(e){return function(){var t=Object(g.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A(e);case 3:n({type:w.STORE_GROUP,group:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(t))},removeQuestionAnswer:function(t,n,r){return e(function(e,t,n){return function(){var r=Object(g.a)(f.a.mark((function r(s){return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,q();case 3:s({type:w.REMOVE_QUESTION_ANSWER,groupId:e,questionId:t,answerId:n}),s(E(t)),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.error(r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))},assignQuestionAnswer:function(t,n,r){return e(function(e,t,n,r){return function(){var r=Object(g.a)(f.a.mark((function r(s){return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,q();case 3:s({type:w.ASSIGN_QUESTION_ANSWER,groupId:e,questionId:t,answerId:n}),s(E(t)),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.error(r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))},setIsDetail:function(t){e(function(e){return function(){var t=Object(g.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:w.SET_IS_DETAIL,isDetail:e})}catch(r){console.error(r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},storeNewAnswer:function(t,n){e(function(e,t){return function(){var n=Object(g.a)(f.a.mark((function n(s){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:console.log("storeNewAnswer answer:",e);try{"add"===t&&(s({type:r.ADD_ANSWER}),s({type:r.STORE_ANSWER,answer:e}))}catch(o){console.error(o)}case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}},Re={questions:Object(d.b)(Ne,Te)(Ee),promoter:Object(d.b)(Ne,Te)(qe)},_e=function(){return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)("h2",{style:{textAlign:"center"},children:"Questions & Answers"}),Object(K.jsxs)("h5",{style:{textAlign:"center"},children:["A knowledge base is a great tool for sharing information.",Object(K.jsx)("br",{})," When you record your experiences and insights regularly,",Object(K.jsx)("br",{}),"other members of your team reap the rewards."]}),Object(K.jsx)(Re.promoter,{canEdit:!1})]})},ke=function(e){var t=e.answer,n=e.usedAnswers,r=e.edit,s=e.remove;return Object(K.jsxs)("tr",{children:[Object(K.jsx)("td",{className:"name",children:t.answerId}),Object(K.jsx)("td",{className:"name",children:t.text}),Object(K.jsx)("td",{children:Object(K.jsx)("button",{className:"button-edit",title:"Add a new Answer",onClick:function(){return r(t.answerId)},children:Object(K.jsx)(ie.a,{icon:ce.a,color:"lightblue"})})}),Object(K.jsx)("td",{children:Object(K.jsx)("button",{disabled:n.includes(t.answerId),className:"button-remove",title:"Remove Answer",onClick:function(){return s(t.answerId)},children:Object(K.jsx)(ie.a,{icon:ce.c,color:"lightblue"})})})]},t.answerId)},Ce=function(e){var t=e.answers,n=e.usedAnswers,r=e.edit,s=e.remove;return Object(K.jsxs)("table",{width:"100%",children:[Object(K.jsx)("thead",{children:Object(K.jsxs)("tr",{children:[Object(K.jsx)("th",{children:"Id"}),Object(K.jsx)("th",{children:"Answer"}),Object(K.jsx)("th",{}),Object(K.jsx)("th",{})]})}),Object(K.jsx)("tbody",{children:t.map((function(e){return Object(K.jsx)(ke,{answer:e,usedAnswers:n,edit:r,remove:s},e.answerId)}))})]})},Ge=function(e){var t=Object(u.f)().slug,n=e.answers,r=e.answer,s=e.usedAnswers,o=e.formMode,a=e.add,i=e.edit,c=e.remove,d=e.cancel,l=e.saveForm,j=e.userOptions;return Object(K.jsxs)("div",{className:"name-container",children:[t,0===n.length&&Object(K.jsx)("div",{children:"No answers at all"}),n.length>0&&Object(K.jsxs)("div",{className:"two-columns",children:[Object(K.jsxs)("div",{className:"a",children:[Object(K.jsx)(Ce,{answers:n,usedAnswers:s,edit:i,remove:c}),Object(K.jsx)("button",{onClick:function(){return a()},children:"Add new"})]}),Object(K.jsxs)("div",{className:"b",children:["add"===o&&Object(K.jsxs)("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"10px"},children:[Object(K.jsx)("h4",{style:{marginTop:0},children:"New Answer"}),Object(K.jsx)(we,{answer:r,formMode:o,cancel:d,saveForm:function(e){return l(e,o)},userOptions:j})]}),"edit"===o&&Object(K.jsxs)("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"10px"},children:[Object(K.jsx)("h4",{style:{marginTop:0},children:"Edit Answer"}),Object(K.jsx)(we,{answer:r,formMode:o,cancel:d,saveForm:function(e){return l(e,o)},userOptions:j})]})]})]})]})},Qe=function(e){var t,n=[],r=Object(h.a)(e);try{for(r.s();!(t=r.n()).done;){var s,o=t.value,a=Object(h.a)(o.questions);try{for(a.s();!(s=a.n()).done;){var i=s.value;n=n.concat(i.answers)}}catch(c){a.e(c)}finally{a.f()}}}catch(c){r.e(c)}finally{r.f()}return n},De=Object(d.b)((function(e){return{answers:e.answerState.answers,answer:e.answerState.answer,formMode:e.answerState.formMode,usedAnswers:Qe(e.questionState.questionGroups),userOptions:e.userState.users.map((function(e){return{label:e.name,value:e.userId}}))}}),(function(e){return{add:function(){return e((function(e){try{e({type:r.ADD_ANSWER})}catch(t){console.error(t)}}))},edit:function(t){return e(function(e){return function(){var t=Object(g.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:r.EDIT_ANSWER,answerId:e})}catch(s){console.error(s)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},remove:function(t){return e(function(e){return function(){var t=Object(g.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:r.REMOVE_ANSWER,answerId:e})}catch(s){console.error(s)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},saveForm:function(t,n){return e(function(e,t){return function(){var t=Object(g.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("dispatch answer",e);try{n({type:r.STORE_ANSWER,answer:e})}catch(s){console.error(s)}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},cancel:function(){return e((function(e){try{e({type:r.CANCEL_ANSWER})}catch(t){console.error(t)}}))}}}))(Ge),Ue=(n(241),n(46)),Me=(be.base,be.black,Object(s.a)(be,["base","black"]));Object.keys(Me).forEach((function(e){Ue.css.global(".formik-example.formik-example--".concat(e," button[type='submit'],\n\t.formik-example.formik-example--").concat(e," button.primary"),{background:be[e][5]}),Ue.css.global(".formik-example.formik-example--".concat(e," button[type='submit']:focus,\n\t  .formik-example.formik-example--").concat(e," button.primary:focus"),{background:be[e][6]}),Ue.css.global(".formik-example.formik-example--".concat(e," button[type='submit']:active,\n\t  .formik-example.formik-example--").concat(e," button.primary:active"),{background:be[e][7]}),Ue.css.global(".formik-example.formik-example--".concat(e," input:focus, .formik-example.formik-example--").concat(e," select:focus"),{borderColor:be[e][4],boxShadow:"inset 0 1px 1px rgba(0, 0, 0, 0.075),0 0 0 3px ".concat(be[e][1]),outline:"none"})}));var Be=function(e){return Object(K.jsx)(d.a,{store:e.store,children:Object(K.jsxs)(c.a,{basename:"/",children:[Object(K.jsx)("nav",{children:Object(K.jsxs)("ul",{children:[Object(K.jsx)("li",{children:Object(K.jsx)(c.b,{to:"/supporter/promo",children:"Supporter"})}),Object(K.jsx)("li",{children:Object(K.jsx)(c.b,{to:"/questions",children:"Questions"})}),Object(K.jsx)("li",{children:Object(K.jsx)(c.b,{to:"/answers/pera",children:"Answers"})}),Object(K.jsx)("li",{className:"push-right",children:Object(K.jsx)(c.b,{to:"/answers/sima",children:"Sign In"})})]})}),Object(K.jsx)("div",{children:Object(K.jsxs)(u.c,{children:[Object(K.jsx)(u.a,{exact:!0,path:"/supporter/:tekst?",children:Object(K.jsx)(_e,{})}),Object(K.jsx)(u.a,{path:"/questions",children:Object(K.jsx)(Re.questions,{canEdit:!0})}),Object(K.jsx)(u.a,{path:"/answers/:slug",children:Object(K.jsx)(De,{})})]})})]})})},Le=Object(l.c)(W,void 0,Object(l.a)(j.a));Le.dispatch(function(){var e=Object(g.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=[],"localStorage"in window?(r=localStorage.getItem(N),console.log("sQuestions",r),null!==r?(console.log(111),n=JSON.parse(r)):(console.log(222),n=I())):n=I(),t({type:w.GET_ALL_QUESTIONS,questionGroups:n})}catch(s){console.error(s)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Le.dispatch(function(){var e=Object(g.a)(f.a.mark((function e(t){var n,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=[],"localStorage"in window?(s=localStorage.getItem(v),console.log("SAnswers",s),n=null!==s?JSON.parse(s):x()):n=x(),t({type:r.GET_ALL_ANSWERS,answers:n})}catch(o){console.error(o)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Le.dispatch(function(){var e=Object(g.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log("storageUsers",B),"localStorage"in window&&null!==(n=localStorage.getItem("SUPPORT_USERS"))?JSON.parse(n).map((function(e){return B.push(e)})):M.map((function(e){return B.push(e)})),t({type:y.GET_ALL_USERS,users:B})}catch(r){console.error(r)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i.render(Object(K.jsx)(a.a.StrictMode,{children:Object(K.jsx)(Be,{store:Le})}),document.getElementById("root"))},77:function(e,t,n){}},[[270,1,2]]]);
//# sourceMappingURL=main.c49b6627.chunk.js.map