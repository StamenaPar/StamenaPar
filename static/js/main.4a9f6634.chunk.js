(this.webpackJsonpSupport=this.webpackJsonpSupport||[]).push([[0],{103:function(e){e.exports=JSON.parse('[{"answerId":111,"text":"You should do the following","words":[],"options":[],"createdBy":0,"created":"2021-10-05T14:48:00.000Z"},{"answerId":112,"text":"Also do the rest of important","words":[],"options":[],"createdBy":0,"created":"2021-10-05T14:48:00.000Z"},{"answerId":113,"text":"Try something else","words":[],"options":[],"createdBy":0,"created":"2021-10-05T14:48:00.000Z"},{"answerId":114,"text":"Contact our support","words":[],"options":[],"createdBy":0,"created":"2021-10-05T14:48:00.000Z"},{"answerId":115,"text":"Do whatever you want!","words":[],"options":[],"createdBy":0,"created":"2021-10-05T14:48:00.000Z"},{"answerId":116,"text":"Jump through the window.","words":[],"options":[],"createdBy":0,"created":"2021-10-05T14:48:00.000Z"}]')},104:function(e){e.exports=JSON.parse('[{"groupId":11,"title":"General settings","questions":[{"groupId":11,"questionId":101,"text":"Why promocode hasn\'t been applied?","words":[],"answers":[{"answerId":111,"assignedBy":1,"assigned":"2021-10-05T14:48:00.000Z"},{"answerId":112,"assignedBy":1,"assigned":"2021-10-05T14:48:00.000Z"},{"answerId":114,"assignedBy":1,"assigned":"2021-10-05T14:48:00.000Z"}],"source":1,"status":2,"createdBy":0,"created":"2021-10-05T14:48:00.000Z"}],"isExpanded":false,"createdBy":1,"created":"2021-10-05T14:48:00.000Z"},{"groupId":22,"title":"Taxes","questions":[{"groupId":22,"questionId":201,"text":"Which promocode do we apply?","words":[],"answers":[],"source":1,"status":2,"createdBy":0,"created":"2021-10-05T14:48:00.000Z"},{"groupId":22,"questionId":202,"text":"Which promocode for client do we apply?","words":[],"answers":[{"answerId":111,"assignedBy":1,"assigned":"2021-10-05T14:48:00.000Z"}],"source":1,"status":2,"createdBy":0,"created":"2021-10-05T14:48:00.000Z"}],"isExpanded":false,"createdBy":1,"created":"2021-10-05T14:48:00.000Z"},{"groupId":33,"title":"Client settings","questions":[{"groupId":33,"questionId":301,"text":"Does client has promocode?","words":[],"answers":[{"answerId":116,"assignedBy":1,"assigned":"2021-10-05T14:48:00.000Z"}],"source":1,"status":2,"createdBy":0,"created":"2021-10-05T14:48:00.000Z"},{"groupId":33,"questionId":302,"text":"What promocode do we use?","words":[],"answers":[{"answerId":114,"assignedBy":1,"assigned":"2021-10-05T14:48:00.000Z"}],"source":1,"status":2,"createdBy":0,"created":"2021-10-05T14:48:00.000Z"},{"groupId":33,"questionId":303,"text":"Why taxes are less than 5%?","words":[],"answers":[{"answerId":111,"assignedBy":1,"assigned":"2021-10-05T14:48:00.000Z"},{"answerId":114,"assignedBy":1,"assigned":"2021-10-05T14:48:00.000Z"}],"source":1,"status":2,"createdBy":0,"created":"2021-10-05T14:48:00.000Z"},{"groupId":33,"questionId":304,"text":"When do we do something?","words":[],"answers":[{"answerId":113,"assignedBy":1,"assigned":"2021-10-05T14:48:00.000Z"}],"source":1,"status":2,"createdBy":0,"created":"2021-10-05T14:48:00.000Z"}],"isExpanded":false,"createdBy":1,"created":"2021-10-05T14:48:00.000Z"}]')},105:function(e){e.exports=JSON.parse('[{"userId":111,"name":"Pera","role":"Admin","department":"Sales"},{"userId":222,"name":"Marina","role":"User","department":"Development"},{"userId":333,"name":"Jack","role":"User","department":"Development"}]')},122:function(e,t,n){},123:function(e,t,n){},241:function(e,t,n){},270:function(e,t,n){"use strict";n.r(t);var r,s=n(1),o=n.n(s),a=n(53),i=n(25),c=n(12),u=n(34),d=n(63),l=n(106),p=n(5),b=n(2),j=n(11),O=n(3),f=n.n(O),h=n(9),g=n(103),m=function(){return g.map((function(e){return x(e)}))},x=function(e){return Object(b.a)(Object(b.a)({},e),{},{created:new Date(e.created)})},v="SUPPORT_ANSWERS";!function(e){e.GET_ALL_ANSWERS="GET_ALL_ANSWERS",e.GET_ANSWER="GET_ANSWER",e.ADD_ANSWER="ADD_ANSWER",e.EDIT_ANSWER="EDIT_ANSWER",e.REMOVE_ANSWER="REMOVE_ANSWER",e.STORE_ANSWER="STORE_ANSWER",e.CANCEL_ANSWER="CANCEL_ANSWER"}(r||(r={}));var w,I=function(){return function(e){try{e({type:r.ADD_ANSWER})}catch(t){console.error(t)}}},S=function(e,t){return function(){var n=Object(h.a)(f.a.mark((function n(s,o){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,"add"!==t){n.next=6;break}return s({type:r.STORE_ANSWER,answer:e}),n.abrupt("return",Promise.resolve(o().answerState.answer.answerId));case 6:s({type:r.STORE_ANSWER,answer:e});case 7:n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.error(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e,t){return n.apply(this,arguments)}}()},y=n(104),E=function(){return y.map((function(e){return q(e)}))},q=function(e){return Object(b.a)(Object(b.a)({},e),{},{questions:e.questions.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{answers:e.answers.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{assigned:new Date(e.assigned)})})),created:new Date(e.created)})})),created:new Date(e.created)})};!function(e){e.GET_ALL_QUESTIONS="GET_ALL_QUESTIONS",e.GET_QUESTION="GET_QUESTION",e.ADD_QUESTION="ADD_QUESTION",e.EDIT_QUESTION="EDIT_QUESTION",e.REMOVE_QUESTION="REMOVE_QUESTION",e.STORE_QUESTION="STORE_QUESTION",e.CANCEL_QUESTION="CANCEL_QUESTION",e.ADD_GROUP="ADD_GROUP",e.TOGGLE_GROUP="EXPAND_GROUP",e.EDIT_GROUP="EDIT_GROUP",e.REMOVE_GROUP="REMOVE_GROUP",e.STORE_GROUP="STORE_GROUP",e.REMOVE_QUESTION_ANSWER="REMOVE_QUESTION_ANSWER",e.ASSIGN_QUESTION_ANSWER="ASSIGN_QUESTION_ANSWER",e.SET_IS_DETAIL="SET_IS_DETAIL",e.SET_LAST_ANSWER_ID="SET_LAST_ANSWER_ID"}(w||(w={}));var A,N=function(e){return function(){var t=Object(h.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:w.GET_QUESTION,questionId:e})}catch(r){console.error(r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},T=function(e,t,n){return function(){var r=Object(h.a)(f.a.mark((function r(s){return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,_();case 3:s({type:w.REMOVE_QUESTION_ANSWER,groupId:e,questionId:t,answerId:n}),s(N(t)),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.error(r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()},R=function(e,t,n){return function(){var r=Object(h.a)(f.a.mark((function r(s){return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,_();case 3:s({type:w.REMOVE_QUESTION_ANSWER,groupId:e,questionId:t,answerId:n}),s(N(t)),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.error(r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()},k=function(e,t,n,r){return function(){var r=Object(h.a)(f.a.mark((function r(s){return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,_();case 3:s({type:w.ASSIGN_QUESTION_ANSWER,groupId:e,questionId:t,answerId:n}),s(N(t)),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.error(r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()},_=function(){return new Promise((function(e,t){setTimeout((function(){e({status:200,"content-type":"application/json",data:{results:1}})}),50)}))},G="SUPPORT_QUESTIONS",Q={groupId:0,questionId:0,text:"",words:[],source:0,status:0,answers:[],createdBy:0,created:new Date},C={groupId:0,title:"",questions:[],isExpanded:!1,createdBy:1,created:new Date},D={questionGroups:[],question:void 0,groupOptions:[],loading:!1,formMode:"display",groupIdEditing:0,isDetail:!1},M=Object.keys(w).filter((function(e){return e!==w.GET_ALL_QUESTIONS})),U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.GET_ALL_QUESTIONS:var n,r=t.questionGroups,s=Object(j.a)(r);try{for(s.s();!(n=s.n()).done;){var o,a=n.value,i=Object(j.a)(a.questions);try{for(i.s();!(o=i.n()).done;){var c=o.value;c.words=c.text.split(" ")}}catch(U){i.e(U)}finally{i.f()}}}catch(U){s.e(U)}finally{s.f()}var u=r.map((function(e){return{value:e.groupId,label:e.title}}));return console.log("groupOptions",u),Object(b.a)(Object(b.a)({},e),{},{questionGroups:r,groupOptions:u});case w.GET_QUESTION:var d,l=void 0,O=Object(j.a)(e.questionGroups);try{for(O.s();!(d=O.n()).done;){var f=d.value;if(l=f.questions.find((function(e){return e.questionId===t.questionId})),l)break}}catch(U){O.e(U)}finally{O.f()}return Object(b.a)(Object(b.a)({},e),{},{question:l});case w.ADD_QUESTION:var h,g=0,m=Object(j.a)(e.questionGroups);try{for(m.s();!(h=m.n()).done;){var x,v=h.value,I=Object(j.a)(v.questions);try{for(I.s();!(x=I.n()).done;){var S=x.value;S.questionId>g&&(g=S.questionId)}}catch(U){I.e(U)}finally{I.f()}}}catch(U){m.e(U)}finally{m.f()}return Object(b.a)(Object(b.a)({},e),{},{formMode:"add",question:Object(b.a)(Object(b.a)({},Q),{},{groupId:t.groupId,questionId:g+1,text:t.text})});case w.EDIT_QUESTION:var y=e.questionGroups.find((function(e){return e.groupId===t.groupId})),E=y.questions.find((function(e){return e.questionId===t.questionId}));return Object(b.a)(Object(b.a)({},e),{},{formMode:"edit",question:E});case w.STORE_QUESTION:if("add"===e.formMode)return Object(b.a)(Object(b.a)({},e),{},{formMode:"edit",questionGroups:e.questionGroups.map((function(e){return e.groupId!==t.question.groupId?Object(b.a)(Object(b.a)({},e),{},{questions:Object(p.a)(e.questions)}):Object(b.a)(Object(b.a)({},e),{},{questions:[].concat(Object(p.a)(e.questions),[Object(b.a)({},t.question)])})}))});var q=e.questionGroups,A=t.question;A.groupId;console.log("STORE_QUESTION",A),console.log("questionGroups",q);var N=q.find((function(e){return e.groupId===A.groupId}));console.log("g",q,N);var T=N.questions.find((function(e){return e.questionId===A.questionId}));return console.log("Q",T),T?(console.log("MEWNJAMMMMMMMMMMM"),Object(b.a)(Object(b.a)({},e),{},{formMode:"edit",questionGroups:q.map((function(e){return e.groupId!==A.groupId?Object(b.a)(Object(b.a)({},e),{},{questions:Object(p.a)(e.questions)}):Object(b.a)(Object(b.a)({},e),{},{questions:e.questions.map((function(e){return e.questionId!==A.questionId?e:Object(b.a)({},A)}))})}))})):(console.log("REASSIGNNNNNNNNNNNNNNNNNNNNNNN",A),Object(b.a)(Object(b.a)({},e),{},{formMode:"edit",questionGroups:q.map((function(e){return e.groupId!==A.groupId?Object(b.a)(Object(b.a)({},e),{},{questions:Object(p.a)(e.questions.filter((function(e){return e.questionId!==A.questionId})))}):Object(b.a)(Object(b.a)({},e),{},{questions:[].concat(Object(p.a)(e.questions),[Object(b.a)({},A)])})}))}));case w.CANCEL_QUESTION:return Object(b.a)(Object(b.a)({},e),{},{formMode:"display"});case w.REMOVE_QUESTION:return Object(b.a)(Object(b.a)({},e),{},{formMode:"display",question:void 0,questionGroups:e.questionGroups.map((function(e){return e.groupId!==t.groupId?Object(b.a)(Object(b.a)({},e),{},{questions:Object(p.a)(e.questions)}):Object(b.a)(Object(b.a)({},e),{},{questions:e.questions.filter((function(e){return e.questionId!==t.questionId}))})}))});case w.REMOVE_QUESTION_ANSWER:return Object(b.a)(Object(b.a)({},e),{},{questionGroups:e.questionGroups.map((function(e){return e.groupId!==t.groupId?Object(b.a)(Object(b.a)({},e),{},{questions:Object(p.a)(e.questions)}):Object(b.a)(Object(b.a)({},e),{},{questions:e.questions.map((function(e){return e.questionId!==t.questionId?Object(b.a)(Object(b.a)({},e),{},{answers:Object(p.a)(e.answers)}):Object(b.a)(Object(b.a)({},e),{},{answers:e.answers.filter((function(e){return e.answerId!==t.answerId}))})}))})}))});case w.ASSIGN_QUESTION_ANSWER:var R=t.groupId,k=t.questionId,_=t.answerId;return Object(b.a)(Object(b.a)({},e),{},{questionGroups:e.questionGroups.map((function(e){return e.groupId!==R?Object(b.a)(Object(b.a)({},e),{},{questions:Object(p.a)(e.questions)}):Object(b.a)(Object(b.a)({},e),{},{questions:e.questions.map((function(e){return e.questionId!==k?Object(b.a)(Object(b.a)({},e),{},{answers:Object(p.a)(e.answers)}):Object(b.a)(Object(b.a)({},e),{},{answers:[].concat(Object(p.a)(e.answers),[{answerId:_,assignedBy:1,assigned:new Date}])})}))})}))});case w.SET_IS_DETAIL:return Object(b.a)(Object(b.a)({},e),{},{isDetail:t.isDetail});case w.ADD_GROUP:var G=Math.max.apply(Math,Object(p.a)(e.questionGroups.map((function(e){return e.groupId}))))+1;return Object(b.a)(Object(b.a)({},e),{},{groupIdEditing:G,questionGroups:[].concat(Object(p.a)(e.questionGroups),[Object(b.a)(Object(b.a)({},C),{},{title:"New Section",groupId:G})])});case w.TOGGLE_GROUP:console.log(t);e.questionGroups.find((function(e){return e.groupId===t.groupId}));return Object(b.a)(Object(b.a)({},e),{},{questionGroups:e.questionGroups.map((function(e){return e.groupId!==t.groupId?e:Object(b.a)(Object(b.a)({},e),{},{isExpanded:!e.isExpanded})}))});case w.EDIT_GROUP:var M=e.questionGroups.find((function(e){return e.groupId===t.groupId}));return Object(b.a)(Object(b.a)({},e),{},{groupIdEditing:M.groupId});case w.STORE_GROUP:return Object(b.a)(Object(b.a)({},e),{},{groupIdEditing:0,questionGroups:e.questionGroups.map((function(e){return e.groupId!==t.group.groupId?e:Object(b.a)(Object(b.a)({},e),{},{title:t.group.title})}))});case w.REMOVE_GROUP:return Object(b.a)(Object(b.a)({},e),{},{questionGroups:e.questionGroups.reduce((function(e,n){return n.groupId!==t.groupId&&e.push(Object(b.a)(Object(b.a)({},n),{},{questions:Object(p.a)(n.questions)})),e}),[])});default:return e}},B={answerId:0,text:"",words:[],options:[],createdBy:0,created:new Date},L={answers:[],answer:void 0,loading:!1,formMode:"display"},W=Object.keys(r).filter((function(e){return e!==r.GET_ALL_ANSWERS})),F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.GET_ALL_ANSWERS:return Object(b.a)(Object(b.a)({},e),{},{answers:t.answers.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{words:e.text.split(" ")})}))});case r.GET_ANSWER:var n=e.answers.find((function(e){return e.answerId===t.answerId}));return Object(b.a)(Object(b.a)({},e),{},{answer:n});case r.ADD_ANSWER:return Object(b.a)(Object(b.a)({},e),{},{formMode:"add",answer:Object(b.a)(Object(b.a)({},B),{},{answerId:0===e.answers.length?1:Math.max.apply(Math,Object(p.a)(e.answers.map((function(e){return e.answerId}))))+1})});case r.EDIT_ANSWER:var s=e.answers.find((function(e){return e.answerId===t.answerId}));return Object(b.a)(Object(b.a)({},e),{},{formMode:"edit",answer:Object(b.a)(Object(b.a)({},s),{},{words:s.text.split(" ")})});case r.STORE_ANSWER:var o=t.answer,a=o,i=a.answerId,c=[];return"add"===e.formMode?(-1===i&&(o.answerId=0===e.answers.length?1:Math.max.apply(Math,Object(p.a)(e.answers.map((function(e){return e.answerId}))))+1),c=[].concat(Object(p.a)(e.answers),[Object(b.a)(Object(b.a)({},o),{},{words:o.text.split(" ")})])):c=e.answers.map((function(e){return e.answerId===i?Object(b.a)(Object(b.a)({},o),{},{words:o.text.split(" ")}):e})),Object(b.a)(Object(b.a)({},e),{},{formMode:"edit",answers:c,answer:o});case r.CANCEL_ANSWER:return Object(b.a)(Object(b.a)({},e),{},{formMode:"display"});case r.REMOVE_ANSWER:return Object(b.a)(Object(b.a)({},e),{},{formMode:"display",answers:e.answers.filter((function(e){return e.answerId!==t.answerId}))});default:return e}},V=n(105);!function(e){e.GET_ALL_USERS="GET_ALL_USERS",e.GET_USER="GET_USER"}(A||(A={}));var P=[],Z={users:[],loading:!1,formMode:"display"},H=Object(d.b)({questionsState:function(e,t){var n=U(e,t);return M.includes(t.type)&&localStorage.setItem(G,JSON.stringify(n.questionGroups)),n},answerState:function(e,t){var n=F(e,t);return W.includes(t.type)&&localStorage.setItem(v,JSON.stringify(n.answers)),n},userState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A.GET_ALL_USERS:return Object(b.a)(Object(b.a)({},e),{},{users:t.users.map((function(e){return Object(b.a)({},e)}))});case A.GET_USER:return Object(b.a)(Object(b.a)({},e),{},{user:t.user});default:return e}}});n(122),n(123);var J=n(62),z=n(6),$=n(7),K=n(14),X=n(15),Y=n(56),ee=n.n(Y),te=n(57),ne=n.n(te),re=n(58),se=n.n(re),oe=(n(77),n(0)),ae=["ref"];var ie=Object(s.createRef)(),ce=ee.a,ue=function(e){Object(K.a)(n,e);var t=Object(X.a)(n);function n(e){var r;return Object(z.a)(this,n),(r=t.call(this,e)).state=void 0,r.onSuggestionsClearRequested=function(){r.setState({suggestions:[]})},r.anyWord=function(e,t){var n,r=Object(j.a)(e);try{for(r.s();!(n=r.n()).done;){var s,o=n.value,a=Object(j.a)(t);try{for(a.s();!(s=a.n()).done;){var i=s.value;if(o.test(i))return!0}}catch(c){a.e(c)}finally{a.f()}}}catch(c){r.e(c)}finally{r.f()}return!1},r.state={value:e.tekst||"",suggestions:r.getSuggestions(""),highlighted:""},r}return Object($.a)(n,[{key:"componentDidMount",value:function(){setTimeout((function(){setTimeout((function(){window.focus(),ie.current.focus()}),500)}),100)}},{key:"render",value:function(){var e=this,t=this.state,n=t.value,r=t.suggestions;return Object(oe.jsx)(ce,{onSuggestionsClearRequested:this.onSuggestionsClearRequested,multiSection:!0,suggestions:r,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested.bind(this),onSuggestionSelected:this.onSuggestionSelected.bind(this),getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,renderSectionTitle:this.renderSectionTitle,getSectionSuggestions:this.getSectionSuggestions,onSuggestionHighlighted:this.onSuggestionHighlighted.bind(this),highlightFirstSuggestion:!0,renderInputComponent:this.renderInputComponent,renderSuggestionsContainer:this.renderSuggestionsContainer,inputProps:{placeholder:"Type 'promocode'",value:n,onChange:function(t,n){return e.onChange(t,n)}}})}},{key:"onSuggestionSelected",value:function(e,t){var n=t.suggestion;this.props.onSelectQuestion(n.questionId)}},{key:"renderSuggestion",value:function(e,t){var n=ne()(e.text,t.query),r=se()(e.text,n);return Object(oe.jsx)("span",{children:r.map((function(e,t){var n=e.highlight?"react-autosuggest__suggestion-match":void 0;return Object(oe.jsx)("span",{className:n,children:e.text},t)}))})}},{key:"renderSectionTitle",value:function(e){return Object(oe.jsx)("strong",{children:e.title})}},{key:"renderInputComponent",value:function(e){e.ref;var t=Object(J.a)(e,ae);return Object(oe.jsx)("div",{children:Object(oe.jsx)("input",Object(b.a)(Object(b.a)({},t),{},{ref:ie}))})}},{key:"renderSuggestionsContainer",value:function(e){var t=e.containerProps,n=e.children;e.query;return Object(oe.jsx)("div",Object(b.a)(Object(b.a)({},t),{},{children:Object(oe.jsx)("span",{children:n})}))}},{key:"onChange",value:function(e,t){var n=t.newValue;t.method;this.setState({value:n})}},{key:"onSuggestionsFetchRequested",value:function(e){var t=e.value;this.setState({suggestions:this.getSuggestions(t)})}},{key:"getSuggestions",value:function(e){var t=this,n=e.trim().replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(""===n)return[];var r=n.split(" ").map((function(e){return new RegExp(e,"i")}));return this.props.questionGroups.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{questions:e.questions.filter((function(e){return t.anyWord(r,e.words)}))})})).filter((function(e){return e.questions.length>0}))}},{key:"getSuggestionValue",value:function(e){return e.text}},{key:"getSectionSuggestions",value:function(e){return e.questions}},{key:"onSuggestionHighlighted",value:function(e){this.setState({highlighted:e.suggestion})}}]),n}(s.Component),de=n(39),le=n(27),pe=n(18),be=n(17),je=n(16);var Oe=ee.a,fe=function(e){Object(K.a)(n,e);var t=Object(X.a)(n);function n(e){var r;return Object(z.a)(this,n),(r=t.call(this,e)).state=void 0,r.onSuggestionsClearRequested=function(){r.setState({suggestions:[]})},r.anyWord=function(e,t){var n,r=Object(j.a)(e);try{for(r.s();!(n=r.n()).done;){var s,o=n.value,a=Object(j.a)(t);try{for(a.s();!(s=a.n()).done;){var i=s.value;if(o.test(i))return!0}}catch(c){a.e(c)}finally{a.f()}}}catch(c){r.e(c)}finally{r.f()}return!1},r.state={value:"",suggestions:r.getSuggestions(""),highlighted:""},r}return Object($.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.value,r=t.suggestions;return Object(oe.jsx)(Oe,{onSuggestionsClearRequested:this.onSuggestionsClearRequested,multiSection:!1,suggestions:r,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested.bind(this),onSuggestionSelected:this.onSuggestionSelected.bind(this),getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,onSuggestionHighlighted:this.onSuggestionHighlighted.bind(this),highlightFirstSuggestion:!0,renderSuggestionsContainer:this.renderSuggestionsContainer,inputProps:{placeholder:"Search answers...",value:n,onChange:function(t,n){return e.onChange(t,n)}}})}},{key:"onSuggestionSelected",value:function(e,t){var n=t.suggestion;this.props.assignQuestionAnswer(this.props.question.groupId,this.props.question.questionId,n.answerId),this.setState({value:""})}},{key:"renderSuggestion",value:function(e,t){var n=ne()(e.text,t.query),r=se()(e.text,n);return Object(oe.jsx)("span",{children:r.map((function(e,t){var n=e.highlight?"react-autosuggest__suggestion-match":void 0;return Object(oe.jsx)("span",{className:n,children:e.text},t)}))})}},{key:"renderSuggestionsContainer",value:function(e){var t=e.containerProps,n=e.children;e.query;return Object(oe.jsx)("div",Object(b.a)(Object(b.a)({},t),{},{children:Object(oe.jsx)("span",{children:n})}))}},{key:"onChange",value:function(e,t){var n=t.newValue;t.method;this.props.setAnswerText&&this.props.setAnswerText(n),this.setState({value:n})}},{key:"onSuggestionsFetchRequested",value:function(e){var t=e.value;this.setState({suggestions:this.getSuggestions(t)})}},{key:"getSuggestions",value:function(e){var t=this,n=e.trim().replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(""===n)return[];var r=n.split(" ").map((function(e){return new RegExp(e,"i")}));return this.props.answersUnassigned.filter((function(e){return t.anyWord(r,e.words)}))}},{key:"getSuggestionValue",value:function(e){return e.text}},{key:"onSuggestionHighlighted",value:function(e){this.setState({highlighted:e.suggestion})}}]),n}(s.Component);function he(){var e=Object(s.useState)({isHovered:!1}),t=Object(pe.a)(e,2),n=t[0],r=t[1],o=Object(s.useRef)(null),a=function(){return r({isHovered:!0})},i=function(){return r({isHovered:!1})};return Object(s.useEffect)((function(){var e=o.current;if(e)return e.addEventListener("mouseenter",(function(){return a()})),e.addEventListener("mouseleave",(function(){return i()})),function(){e.removeEventListener("mouseenter",(function(){return a()})),e.removeEventListener("mouseleave",(function(){return i()}))}}),[o.current]),[o,n]}var ge=function(e){var t=he(),n=Object(pe.a)(t,2),r=n[0],s=n[1],o=e.question,a=e.questionAnswer,i=(e.selectQuestionAnswer,e.copyQuestionAnswer,e.removeQuestionAnswer),c=o.groupId,u=o.questionId,d=a.answerId;a.text,"inputQuestionAnswer".concat(d);return Object(oe.jsxs)("div",{ref:r,className:"name",children:[Object(oe.jsx)("button",{className:"question-button",onClick:function(){alert("No action for the time being")},children:a.text}),s.isHovered&&Object(oe.jsx)("button",{className:"button-edit",title:"Copy Resolution to Cliboard",onClick:function(e){navigator.clipboard&&navigator.clipboard.writeText("".concat(a.text)).then((function(){console.log("Copied to clipboard successfully.")}),(function(e){console.log("Failed to copy the text to clipboard.",e)})),e.stopPropagation()},children:Object(oe.jsx)(be.a,{icon:je.c,color:"lightblue"})}),s.isHovered&&Object(oe.jsx)("button",{className:"button-remove",title:"Remove",onClick:function(){return i(c,u,d)},children:Object(oe.jsx)(be.a,{icon:je.f,color:"lightblue"})})]})},me=function(e){var t=e.question,n=e.questionAnswers,r=e.answers,o=e.canEdit,a=e.formMode,i=e.selectQuestionAnswer,c=e.copyQuestionAnswer,u=e.removeQuestionAnswer,d=e.assignQuestionAnswer,l=e.setIsDetail,p=null===r||void 0===r?void 0:r.filter((function(e){return!t.answers.map((function(e){return e.answerId})).includes(e.answerId)})),b=s.useState(""),j=Object(pe.a)(b,2),O=(j[0],j[1]);return Object(oe.jsx)("div",{className:"name-container question-answers",children:n.length>-1&&Object(oe.jsx)(oe.Fragment,{children:Object(oe.jsxs)("table",{width:"100%",children:[Object(oe.jsx)("thead",{children:Object(oe.jsxs)("tr",{children:[Object(oe.jsx)("th",{children:0===n.length?"No resolutions yet":"Resolutions"}),o&&"display"!==a&&Object(oe.jsx)("th",{})]})}),Object(oe.jsxs)("tbody",{children:[n.map((function(e){return Object(oe.jsx)("tr",{children:Object(oe.jsx)("td",{className:"name",title:"AnswerId:".concat(e.answerId,"\nAssigned: ").concat(e.assigned.toLocaleDateString()," ").concat(e.assigned.toLocaleTimeString()),children:Object(oe.jsx)(ge,{question:t,questionAnswer:e,selectQuestionAnswer:i,copyQuestionAnswer:c,removeQuestionAnswer:u},e.answerId)})},e.answerId)})),o&&"display"!==a&&Object(oe.jsxs)("tr",{children:[Object(oe.jsx)("td",{children:Object(oe.jsx)(fe,{question:t,answersUnassigned:p,assignQuestionAnswer:d,setAnswerText:function(e){O(e)}})}),Object(oe.jsx)("td",{width:"35px",children:Object(oe.jsx)("button",{className:"button-edit",title:"Add a new Answer",onClick:function(){return function(e){l(e);var t=document.getElementById("divDetailView");t.classList.add("detail-view-open"),t.style.zIndex="3"}(!0)},children:Object(oe.jsx)(be.a,{icon:je.e,color:"lightblue"})})})]})]})]})})})};function xe(e){var t=!!e.disabled;return Object(oe.jsx)("select",{id:e.id,value:e.value,onChange:function(t){var n=t.currentTarget.selectedIndex,r=e.options[n];e.onChange(t,r.value)},disabled:t,children:e.options.map((function(e){return Object(oe.jsx)("option",{value:e.value,children:e.label},e.value)}))})}var ve=n(237)("#666ee8"),we=function(e){var t=Object(de.a)({enableReinitialize:!0,initialValues:{groupId:e.question.groupId,questionId:e.question.questionId,text:e.question.text,source:e.question.source,status:e.question.status,answers:e.question.answers,createdBy:e.question.createdBy,created:e.question.created},validationSchema:le.a({text:le.b().max(150,"Must be 150 characters or less").required("Required")}),onSubmit:function(t){e.saveForm(t,e.formMode)}}),n=function(){return"edit"===e.formMode};return console.log("RENDERING",t.values),Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(oe.jsx)("label",{className:"id",htmlFor:"questionId",children:"QuestionId:"}),Object(oe.jsx)("span",{id:"questionId",children:t.values.questionId}),Object(oe.jsx)("label",{htmlFor:"groupId",children:"Group"}),Object(oe.jsx)(xe,{id:"groupId",name:"groupId",options:e.groupOptions,onChange:function(e,r){t.setFieldValue("groupId",r),n()&&t.submitForm()},value:t.values.groupId}),Object(oe.jsx)("label",{htmlFor:"text",children:"Name"}),Object(oe.jsx)("textarea",{id:"text",name:"text",onChange:t.handleChange,onBlur:function(e){n()&&t.submitForm()},value:t.values.text,style:{width:"100%"},rows:2}),t.touched.text&&t.errors.text?Object(oe.jsx)("div",{children:t.errors.text}):null,Object(oe.jsx)("label",{htmlFor:"source",children:"Source"}),Object(oe.jsx)(xe,{id:"source",name:"source",options:e.sourceOptions,onChange:function(e,r){t.setFieldValue("source",r),n()&&t.submitForm()},value:t.values.source}),Object(oe.jsx)("br",{}),Object(oe.jsx)(me,{question:e.question,questionAnswers:e.questionAnswers,answers:e.answers,canEdit:e.canEdit,formMode:e.formMode,selectQuestionAnswer:e.selectQuestionAnswer,copyQuestionAnswer:e.copyQuestionAnswer,removeQuestionAnswer:e.removeQuestionAnswer,assignQuestionAnswer:e.assignQuestionAnswer,setIsDetail:e.setIsDetail}),Object(oe.jsx)("br",{}),Object(oe.jsx)("label",{htmlFor:"status",children:"Status"}),Object(oe.jsx)(xe,{id:"status",name:"status",options:e.statusOptions,onChange:function(e,r){t.setFieldValue("status",r),n()&&t.submitForm()},value:t.values.status}),Object(oe.jsx)("label",{htmlFor:"createdBy",children:"Created by"}),Object(oe.jsx)(xe,{id:"createdBy",name:"createdBy",options:e.userOptions,onChange:function(e,r){t.setFieldValue("createdBy",r),n()&&t.submitForm()},value:t.values.createdBy}),!n()&&Object(oe.jsxs)("div",{className:"buttons",children:[e.canEdit&&Object(oe.jsx)("button",{onClick:function(){return e.cancel()},children:"Cancel"}),e.canEdit&&Object(oe.jsx)("button",{type:"submit",children:"Save"})]})]}),Object(oe.jsx)("label",{className:"id",htmlFor:"created",children:"Created:"}),Object(oe.jsx)("span",{children:t.values.created.toLocaleDateString()})]})},Ie=function(e){return Object(oe.jsx)("div",{style:{height:"100%"},className:"formik-example formik-example--blue",children:Object(oe.jsx)("div",{style:{height:"100%",background:ve.blue[5],padding:"1rem 1rem"},children:Object(oe.jsx)("div",{style:{borderRadius:"4px",boxShadow:"0 8px 16px rgba(0,0,0,.2)",background:"#fff",maxWidth:"90%",margin:"0 auto",padding:"1rem"},children:Object(oe.jsx)("div",{className:"formik-example formik-example--blue",children:Object(oe.jsx)(we,Object(b.a)({},e))})})})})},Se=function(e){var t=Object(de.a)({enableReinitialize:!0,initialValues:{groupId:e.question.groupId,questionId:e.question.questionId,text:e.question.text,source:e.question.source,status:e.question.status,answers:e.question.answers,createdBy:e.question.createdBy,created:e.question.created,userOptions:e.userOptions,sourceOptions:e.sourceOptions,statusOptions:e.statusOptions},validationSchema:le.a({text:le.b().max(150,"Must be 150 characters or less").required("Required")}),onSubmit:function(e){}});return Object(oe.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(oe.jsx)("label",{className:"id",htmlFor:"questionId",children:"QuestionId:"}),Object(oe.jsx)("span",{id:"questionId",children:t.values.questionId}),Object(oe.jsx)("label",{htmlFor:"text"}),Object(oe.jsx)("textarea",{id:"text",name:"text",onChange:t.handleChange,onBlur:t.handleBlur,value:t.values.text,disabled:!0,style:{width:"100%"},rows:2}),t.touched.text&&t.errors.text?Object(oe.jsx)("div",{children:t.errors.text}):null,Object(oe.jsx)("label",{htmlFor:"createdBy",children:"Source"}),Object(oe.jsx)(xe,{id:"source",name:"source",options:t.values.sourceOptions,onChange:t.handleChange,value:t.values.source,disabled:!0}),Object(oe.jsx)("br",{}),Object(oe.jsx)(me,{question:e.question,questionAnswers:e.questionAnswers,canEdit:e.canEdit,formMode:e.formMode,selectQuestionAnswer:e.selectQuestionAnswer,copyQuestionAnswer:e.copyQuestionAnswer,removeQuestionAnswer:e.removeQuestionAnswer,setIsDetail:e.setIsDetail}),Object(oe.jsx)("br",{}),Object(oe.jsx)("label",{htmlFor:"status",children:"Status"}),Object(oe.jsx)(xe,{id:"status",name:"status",options:t.values.statusOptions,onChange:t.handleChange,value:t.values.status,disabled:!0}),Object(oe.jsx)("label",{htmlFor:"createdBy",children:"Created by"}),Object(oe.jsx)(xe,{id:"createdBy",name:"createdBy",options:t.values.userOptions,onChange:t.handleChange,value:t.values.createdBy,disabled:!0}),Object(oe.jsx)("label",{className:"id",htmlFor:"created",children:"Created:"}),Object(oe.jsx)("span",{children:t.values.created.toLocaleDateString()}),e.canEdit&&Object(oe.jsxs)("div",{className:"buttons",children:[Object(oe.jsx)("button",{onClick:function(){return e.edit()},children:"Edit"}),Object(oe.jsx)("button",{onClick:function(){return e.remove()},children:"Remove"})]})]})},ye=function(e){return Object(oe.jsx)("div",{style:{height:"100%"},className:"formik-example formik-example--blue",children:Object(oe.jsx)("div",{style:{height:"100%",background:ve.blue[5],padding:"1rem 1rem"},children:Object(oe.jsx)("div",{style:{borderRadius:"4px",boxShadow:"0 8px 16px rgba(0,0,0,.2)",background:"#fff",maxWidth:"90%",margin:"0 auto",padding:"1rem"},children:Object(oe.jsx)("div",{className:"formik-example formik-example--blue",children:Object(oe.jsx)(Se,Object(b.a)({},e))})})})})},Ee=function(e){var t=he(),n=Object(pe.a)(t,2),r=n[0],s=n[1],o=e.question,a=e.onSelectQuestion,i=e.edit,c=e.remove,u=o.groupId,d=o.questionId;return Object(oe.jsxs)("div",{ref:r,className:"name",children:[Object(oe.jsx)("button",{className:"question-button",onClick:function(){return a(d)},children:o.text}),s.isHovered&&Object(oe.jsx)("button",{className:"button-edit",title:"Edit",onClick:function(){return i(u,d)},children:Object(oe.jsx)(be.a,{icon:je.d,color:"lightblue"})}),s.isHovered&&Object(oe.jsx)("button",{className:"button-remove",title:"Remove",onClick:function(){return c(u,d)},children:Object(oe.jsx)(be.a,{icon:je.f,color:"lightblue"})})]})},qe=function(e){var t=he(),n=Object(pe.a)(t,2),r=n[0],s=n[1],o=e.questionGroup,a=e.toggleGroup,i=e.editGroup,c=e.removeGroup,u=o.groupId,d=o.title,l=o.questions,p=o.isExpanded;return Object(oe.jsxs)("div",{ref:r,className:"name",children:[Object(oe.jsx)("button",{className:"button-edit",title:"Expand",onClick:function(){return a(u)},style:{marginLeft:"5px"},children:Object(oe.jsx)(be.a,{icon:p?je.a:je.b,color:"maroon",size:"lg"})}),Object(oe.jsx)("span",{className:"question-group-title",children:d}),s.isHovered&&Object(oe.jsx)("button",{className:"button-edit",title:"Edit Section",onClick:function(){return i(u)},children:Object(oe.jsx)(be.a,{icon:je.d,color:"lightblue"})}),s.isHovered&&0===l.length&&Object(oe.jsx)("button",{className:"button-remove",title:"Remove Section",onClick:function(){return c(u)},children:Object(oe.jsx)(be.a,{icon:je.f,color:"lightblue"})})]},u)},Ae=function(e){var t=Object(de.a)({enableReinitialize:!0,initialValues:{answerId:e.answer.answerId,text:e.answer.text,createdBy:e.answer.createdBy,created:e.answer.created},validationSchema:le.a({text:le.b().max(150,"Must be 150 characters or less").required("Required")}),onSubmit:function(t){e.saveForm(t,e.formMode)}}),n=function(){return"edit"===e.formMode};return console.log("RENDERING",t.values),Object(oe.jsxs)("form",{onSubmit:t.handleSubmit,children:["add"!==e.formMode&&Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("label",{className:"id",htmlFor:"answerId",children:"Answer Id: "}),Object(oe.jsx)("span",{id:"answerId",children:t.values.answerId})]}),Object(oe.jsx)("label",{htmlFor:"text",children:"Resolution"}),Object(oe.jsx)("textarea",{id:"text",name:"text",onChange:t.handleChange,onBlur:function(e){n()&&t.submitForm()},value:t.values.text,rows:2,style:{width:"100%"}}),t.touched.text&&t.errors.text?Object(oe.jsx)("div",{children:t.errors.text}):null,Object(oe.jsx)("label",{htmlFor:"createdBy",children:"Created by"}),Object(oe.jsx)(xe,{id:"createdBy",name:"createdBy",options:e.userOptions,onChange:function(e,r){t.setFieldValue("createdBy",r),n()&&t.submitForm()},value:t.values.createdBy}),Object(oe.jsx)("label",{className:"id",htmlFor:"created",children:"Created:"}),Object(oe.jsx)("span",{children:t.values.created.toLocaleDateString()}),!n()&&Object(oe.jsxs)("div",{className:"buttons",children:[Object(oe.jsx)("button",{onClick:function(){return e.cancel()},children:"Cancel"}),Object(oe.jsx)("button",{type:"submit",children:"Save"})]})]})},Ne=function(e){return Object(oe.jsx)("div",{style:{height:"100%"},className:"formik-example formik-example--blue",children:Object(oe.jsx)("div",{style:{height:"100%",background:ve.blue[5],padding:"0.1rem 0.1rem"},children:Object(oe.jsx)("div",{style:{borderRadius:"4px",boxShadow:"0 8px 16px rgba(0,0,0,.2)",background:"#fff",maxWidth:"90%",margin:"0 auto",padding:"0.5rem"},children:Object(oe.jsx)("div",{className:"formik-example formik-example--blue",children:Object(oe.jsx)(Ae,Object(b.a)({},e))})})})})},Te=function(e){var t=e.groupId,n=e.questionId,r=(e.lastAnswer,e.addAndAssignNewAnswer);Object(s.useEffect)((function(){var e=document.getElementById("divDetailView");e.addEventListener("animationend",(function(){e.classList.contains("detail-view-close")?(e.style.zIndex="0",e.style.left="100%",e.classList.remove("detail-view-close")):e.style.left="60%"}))}),[]);var o=function(){var e=document.getElementById("divDetailView");e.classList.remove("detail-view-open"),e.classList.add("detail-view-close")};return Object(oe.jsxs)("div",{id:"divDetailView",className:"detail-view",children:[Object(oe.jsx)("button",{style:{position:"absolute",right:"10px"},onClick:o,children:"X"}),Object(oe.jsxs)("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"5px 5px 15px 5px",background:ve.blue[5]},children:[Object(oe.jsx)("h4",{style:{marginTop:0,color:"white"},children:"Add and Assign new Answer"}),Object(oe.jsx)(Ne,{answer:{answerId:-1,text:"argh",createdBy:0,created:new Date},formMode:"add",cancel:function(){},saveForm:function(e){r(t,n,e,"add"),o()},userOptions:e.userOptions})]})]})},Re=[{label:"Unknown",value:0},{label:"Gmail",value:1},{label:"Outlook",value:2},{label:"Phone",value:3},{label:"Chat",value:4},{label:"Slack",value:5}],ke=[{label:"Unknown",value:0},{label:"In progress",value:1},{label:"Can't reproduce",value:2},{label:"Blocked",value:3},{label:"Complete",value:4}],_e=function(e){var t=Object(c.f)().tekst,n=e.questionGroups,r=e.question,o=e.questionAnswers,a=e.answers,i=e.formMode,u=e.groupIdEditing,d=e.onSelectQuestion,l=e.add,p=e.edit,j=e.remove,O=e.cancel,f=e.saveForm,h=e.canEdit,g=e.addGroup,m=e.toggleGroup,x=e.editGroup,v=e.removeGroup,w=e.storeGroup,I=e.selectQuestionAnswer,S=e.copyQuestionAnswer,y=e.removeQuestionAnswer,E=e.assignQuestionAnswer,q=e.setIsDetail,A=(e.isDetail,e.addAndAssignNewAnswer),N=e.userOptions,T=e.groupOptions,R=Object(s.useRef)(null);return setTimeout((function(){null!==R.current&&(R.current.select(),R.current.focus())}),100),Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsxs)("div",{className:"name-container",children:[Object(oe.jsxs)("div",{className:"two-columns",children:[Object(oe.jsx)("div",{className:"a",children:Object(oe.jsx)(ue,{questionGroups:n,tekst:t,onSelectQuestion:d})}),Object(oe.jsx)("div",{className:"b"})]}),Object(oe.jsx)("hr",{}),Object(oe.jsx)("h4",{style:{textAlign:"center"},children:"Maintenance (visible only for Admins) "}),Object(oe.jsxs)("div",{className:"two-columns",children:[Object(oe.jsxs)("div",{className:"a",children:[Object(oe.jsx)("h3",{children:"All Questions by Groups"}),n&&n.map((function(e){var t=e.groupId,n=e.title,r=e.isExpanded,s=e.questions;return Object(oe.jsxs)("div",{style:{paddingBottom:"5px"},children:[Object(oe.jsxs)("div",{children:[u===t&&Object(oe.jsx)("input",{ref:R,name:"groupTitle",type:"text",onBlur:function(t){return w(Object(b.a)(Object(b.a)({},e),{},{title:t.target.value}))},defaultValue:n}),u!==t&&Object(oe.jsx)(qe,{questionGroup:e,toggleGroup:m,editGroup:x,removeGroup:v})]}),r&&Object(oe.jsxs)("div",{className:"group-questions",children:[s.map((function(e){return Object(oe.jsx)(Ee,{question:e,onSelectQuestion:d,edit:p,remove:j},e.questionId)})),Object(oe.jsx)("div",{style:{marginLeft:"5%"},children:Object(oe.jsx)("button",{className:"button-add",title:"Add a new Question",onClick:function(){return l(e.groupId,"")},children:"Add a new Question"})})]})]},t)})),Object(oe.jsx)("div",{style:{marginLeft:"1%"},children:Object(oe.jsx)("button",{className:"button-add-group",title:"Add a new Section",onClick:function(){return g()},children:"Add a new Group"})})]}),Object(oe.jsx)("div",{className:"b",children:n&&r&&Object(oe.jsxs)("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"5px 5px 15px 5px",background:ve.blue[5]},children:[Object(oe.jsx)("h4",{style:{marginTop:0,color:"white"},children:"Question"}),"display"===i?Object(oe.jsx)(ye,{question:r,questionAnswers:o,answers:a,formMode:i,canEdit:h,edit:function(){return p(r.groupId,r.questionId)},remove:function(){return j(r.groupId,r.questionId)},selectQuestionAnswer:I,copyQuestionAnswer:S,removeQuestionAnswer:y,assignQuestionAnswer:E,setIsDetail:q,userOptions:N,sourceOptions:Re,statusOptions:ke,groupOptions:T}):Object(oe.jsx)(Ie,{question:r,questionAnswers:o,answers:a,formMode:i,cancel:O,saveForm:function(e){return f(e,i)},canEdit:h,selectQuestionAnswer:I,copyQuestionAnswer:S,removeQuestionAnswer:y,assignQuestionAnswer:E,setIsDetail:q,userOptions:N,sourceOptions:Re,statusOptions:ke,groupOptions:T})]})})]})]}),Object(oe.jsx)(Te,{groupId:r?r.groupId:0,questionId:r?r.questionId:0,addAndAssignNewAnswer:A,userOptions:N})," "]})},Ge=function(e){var t=Object(c.f)().tekst,n=e.questionGroups,r=e.question,s=e.questionAnswers,o=e.answers,a=e.formMode,i=e.onSelectQuestion,u=e.cancel,d=e.saveForm,l=e.add,p=e.canEdit,b=e.removeQuestionAnswer,j=e.assignQuestionAnswer,O=e.setIsDetail,f=e.userOptions,h=e.groupOptions;return Object(oe.jsx)("div",{className:"name-container",children:Object(oe.jsxs)("div",{className:"two-columns",children:[Object(oe.jsx)("div",{className:"a",children:Object(oe.jsxs)("div",{style:{display:"flex"},children:[Object(oe.jsx)(ue,{questionGroups:n,tekst:t,onSelectQuestion:i}),Object(oe.jsx)("button",{className:"button-edit",title:"Create a new Question",onClick:function(){return l(0,t)},children:Object(oe.jsx)(be.a,{icon:je.e,color:"lightblue"})})]})}),Object(oe.jsx)("div",{className:"b",children:n&&r&&Object(oe.jsxs)("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"5px 5px 15px 5px",background:ve.blue[5]},children:[Object(oe.jsx)("h4",{style:{marginTop:0,color:"white"},children:"Question"}),Object(oe.jsx)(Ie,{question:r,questionAnswers:s,answers:o,formMode:a,cancel:u,saveForm:function(e){return d(e,a)},canEdit:p,selectQuestionAnswer:T,copyQuestionAnswer:R,removeQuestionAnswer:b,assignQuestionAnswer:j,setIsDetail:O,userOptions:f,sourceOptions:Re,statusOptions:ke,groupOptions:h})]})})]})})},Qe=function(e,t){return void 0===e||0===e.answers.length||void 0===t?[]:(console.log({question:e,answers:t}),e.answers.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{text:t.find((function(t){return t.answerId===e.answerId})).text})})).sort((function(e,t){return e.assigned<t.assigned?1:-1})))},Ce=function(e,t){var n=e.questionsState,r=e.answerState,s=e.userState,o=n.questionGroups,a=n.question,i=n.groupOptions,c=n.formMode,u=n.groupIdEditing,d=n.isDetail,l=r.answers;return{questionGroups:o,groupOptions:i,question:a,questionAnswers:Qe(a,l),answers:l,formMode:c,groupIdEditing:u,canEdit:t.canEdit,isDetail:d,userOptions:s.users.map((function(e){return{label:e.name,value:e.userId}}))}},De=function(e){return{onSelectQuestion:function(t){return e(N(t))},add:function(t,n){return e(function(e,t){return function(){var n=Object(h.a)(f.a.mark((function n(r){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{r({type:w.ADD_QUESTION,groupId:e,text:t})}catch(s){console.error(s)}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},edit:function(t,n){return e(function(e,t){return function(){var n=Object(h.a)(f.a.mark((function n(r){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{r({type:w.EDIT_QUESTION,groupId:e,questionId:t})}catch(s){console.error(s)}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,n))},remove:function(t,n){return e(function(e,t){return function(){var n=Object(h.a)(f.a.mark((function n(r){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_();case 3:r({type:w.REMOVE_QUESTION,groupId:e,questionId:t}),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.error(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))},saveForm:function(t,n){return e(function(e,t){return function(){var n=Object(h.a)(f.a.mark((function n(r){return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,"add"!==t){n.next=7;break}return n.next=4,_();case 4:r({type:w.STORE_QUESTION,question:e}),n.next=10;break;case 7:return n.next=9,_();case 9:r({type:w.STORE_QUESTION,question:e});case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),console.error(n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))},cancel:function(){return e((function(e){try{e({type:w.CANCEL_QUESTION})}catch(t){console.error(t)}}))},addGroup:function(){return e(function(){var e=Object(h.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:w.ADD_GROUP})}catch(n){console.error(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},toggleGroup:function(t){return e(function(e){return function(){var t=Object(h.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:w.TOGGLE_GROUP,groupId:e})}catch(r){console.error(r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},editGroup:function(t){return e(function(e){return function(){var t=Object(h.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:w.EDIT_GROUP,groupId:e})}catch(r){console.error(r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},removeGroup:function(t){return e(function(e){return function(){var t=Object(h.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_();case 3:n({type:w.REMOVE_GROUP,groupId:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(t))},storeGroup:function(t){return e(function(e){return function(){var t=Object(h.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:w.STORE_GROUP,group:e})}catch(r){console.error(r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},selectQuestionAnswer:function(t,n,r){return e(T(t,n,r))},copyQuestionAnswer:function(t,n,r){return e(R(t,n,r))},removeQuestionAnswer:function(t,n,r){return e(function(e,t,n){return function(){var r=Object(h.a)(f.a.mark((function r(s){return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,_();case 3:s({type:w.REMOVE_QUESTION_ANSWER,groupId:e,questionId:t,answerId:n}),s(N(t)),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),console.error(r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))},assignQuestionAnswer:function(t,n,r){return e(k(t,n,r))},setIsDetail:function(t){e(function(e){return function(){var t=Object(h.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:w.SET_IS_DETAIL,isDetail:e})}catch(r){console.error(r)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},addAndAssignNewAnswer:function(t,n,r,s){e(function(e,t,n,r){return function(){var s=Object(h.a)(f.a.mark((function s(o){return f.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:try{o(I()),o(S(n,r)).then((function(n){console.log("answerId",n),o(k(e,t,n))}))}catch(a){console.error(a)}case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}(t,n,r,s))}}},Me={questions:Object(u.b)(Ce,De)(_e),promoter:Object(u.b)(Ce,De)(Ge)};setTimeout((function(){var e=document.querySelector("#divKnowledge");e&&e.setAttribute("style","display:none")}),1e4);var Ue=function(){return Object(oe.jsxs)(oe.Fragment,{children:[Object(oe.jsx)("h2",{style:{textAlign:"center",marginBlockStart:"0.66rem",marginBlockEnd:"0.1rem"},children:"Questions & Answers"}),Object(oe.jsx)("div",{id:"divKnowledge",className:"knowledge",children:Object(oe.jsx)("h5",{style:{textAlign:"center",color:"blue"},children:"A knowledge base is a great tool for sharing information. When you record your experiences and insights regularly, other members of your team share info."})}),Object(oe.jsx)(Me.promoter,{canEdit:!1})]})},Be=function(e){var t=e.answer,n=e.usedAnswers,r=e.edit,s=e.remove;return Object(oe.jsxs)("tr",{children:[Object(oe.jsx)("td",{className:"name",children:t.answerId}),Object(oe.jsx)("td",{className:"name",children:t.text}),Object(oe.jsx)("td",{children:Object(oe.jsx)("button",{className:"button-edit",title:"Add a new Answer",onClick:function(){return r(t.answerId)},children:Object(oe.jsx)(be.a,{icon:je.d,color:"lightblue"})})}),Object(oe.jsx)("td",{children:Object(oe.jsx)("button",{disabled:n.map((function(e){return e.answerId})).includes(t.answerId),className:"button-remove",title:"Remove Answer",onClick:function(){return s(t.answerId)},children:Object(oe.jsx)(be.a,{icon:je.f,color:"lightblue"})})})]},t.answerId)},Le=function(e){var t=e.answers,n=e.usedAnswers,r=e.edit,s=e.remove;return Object(oe.jsxs)("table",{width:"100%",children:[Object(oe.jsx)("thead",{children:Object(oe.jsxs)("tr",{children:[Object(oe.jsx)("th",{children:"Id"}),Object(oe.jsx)("th",{children:"Answer"}),Object(oe.jsx)("th",{}),Object(oe.jsx)("th",{})]})}),Object(oe.jsx)("tbody",{children:t.map((function(e){return Object(oe.jsx)(Be,{answer:e,usedAnswers:n,edit:r,remove:s},e.answerId)}))})]})},We=function(e){var t=Object(c.f)().slug,n=e.answers,r=e.answer,s=e.usedAnswers,o=e.formMode,a=e.add,i=e.edit,u=e.remove,d=e.cancel,l=e.saveForm,p=e.userOptions;return Object(oe.jsxs)("div",{className:"name-container",children:[t,0===n.length&&Object(oe.jsx)("div",{children:"No answers at all"}),n.length>0&&Object(oe.jsxs)("div",{className:"two-columns",children:[Object(oe.jsxs)("div",{className:"a",children:[Object(oe.jsx)(Le,{answers:n,usedAnswers:s,edit:i,remove:u}),Object(oe.jsx)("button",{onClick:function(){return a()},children:"Add new"})]}),Object(oe.jsxs)("div",{className:"b",children:["add"===o&&Object(oe.jsxs)("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"5px 5px 15px 5px",background:ve.blue[5]},children:[Object(oe.jsx)("h4",{style:{marginTop:0,color:"white"},children:"New Answer"}),Object(oe.jsx)(Ne,{answer:r,formMode:o,cancel:d,saveForm:function(e){return l(e,o)},userOptions:p})]}),"edit"===o&&Object(oe.jsxs)("div",{style:{border:"1px solid silver",borderRadius:"5px",padding:"5px 5px 15px 5px",background:ve.blue[5]},children:[Object(oe.jsx)("h4",{style:{marginTop:0,color:"white"},children:"Edit Answer"}),Object(oe.jsx)(Ne,{answer:r,formMode:o,cancel:d,saveForm:function(e){return l(e,o)},userOptions:p})]})]})]})]})},Fe=function(e){var t,n=[],r=Object(j.a)(e);try{for(r.s();!(t=r.n()).done;){var s,o=t.value,a=Object(j.a)(o.questions);try{for(a.s();!(s=a.n()).done;){var i=s.value;n=n.concat(i.answers)}}catch(c){a.e(c)}finally{a.f()}}}catch(c){r.e(c)}finally{r.f()}return n},Ve=Object(u.b)((function(e){return{answers:e.answerState.answers,answer:e.answerState.answer,formMode:e.answerState.formMode,usedAnswers:Fe(e.questionsState.questionGroups),userOptions:e.userState.users.map((function(e){return{label:e.name,value:e.userId}}))}}),(function(e){return{add:function(){return e(I())},edit:function(t){return e(function(e){return function(){var t=Object(h.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:r.EDIT_ANSWER,answerId:e})}catch(s){console.error(s)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},remove:function(t){return e(function(e){return function(){var t=Object(h.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:r.REMOVE_ANSWER,answerId:e})}catch(s){console.error(s)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},saveForm:function(t,n){return e(S(t,n))},cancel:function(){return e((function(e){try{e({type:r.CANCEL_ANSWER})}catch(t){console.error(t)}}))}}}))(We),Pe=(n(241),n(46)),Ze=(ve.base,ve.black,Object(J.a)(ve,["base","black"])),He=function(e){return Object(oe.jsx)(u.a,{store:e.store,children:Object(oe.jsxs)(i.a,{basename:"/",children:[Object(oe.jsx)("nav",{children:Object(oe.jsxs)("ul",{children:[Object(oe.jsx)("li",{children:Object(oe.jsx)(i.b,{to:"/supporter/promo",children:"Supporter"})}),Object(oe.jsx)("li",{children:Object(oe.jsx)(i.b,{to:"/questions",children:"Questions"})}),Object(oe.jsx)("li",{children:Object(oe.jsx)(i.b,{to:"/answers/pera",children:"Answers"})}),Object(oe.jsx)("li",{className:"push-right",children:Object(oe.jsx)(i.b,{to:"/answers/sima",children:"Sign In"})})]})}),Object(oe.jsx)("div",{children:Object(oe.jsxs)(c.c,{children:[Object(oe.jsx)(c.a,{exact:!0,path:"/supporter/:tekst?",children:Object(oe.jsx)(Ue,{})}),Object(oe.jsx)(c.a,{path:"/questions",children:Object(oe.jsx)(Me.questions,{canEdit:!0})}),Object(oe.jsx)(c.a,{path:"/answers/:slug",children:Object(oe.jsx)(Ve,{})})]})})]})})};Object.keys(Ze).forEach((function(e){Pe.css.global(".formik-example.formik-example--".concat(e," button[type='submit'],\n\t\t\t .formik-example.formik-example--").concat(e," button.primary"),{background:ve[e][5]}),Pe.css.global(".formik-example.formik-example--".concat(e," button[type='submit']:focus,\n\t  \t\t .formik-example.formik-example--").concat(e," button.primary:focus"),{background:ve[e][6]}),Pe.css.global(".formik-example.formik-example--".concat(e," button[type='submit']:active,\n\t  \t\t .formik-example.formik-example--").concat(e," button.primary:active"),{background:ve[e][7]}),Pe.css.global(".formik-example.formik-example--".concat(e," input:focus, .formik-example.formik-example--").concat(e," select:focus"),{borderColor:ve[e][4],boxShadow:"inset 0 1px 1px rgba(0, 0, 0, 0.075),0 0 0 3px ".concat(ve[e][1]),outline:"none"})})),localStorage.clear();var Je=Object(d.c)(H,void 0,Object(d.a)(l.a));Je.dispatch(function(){var e=Object(h.a)(f.a.mark((function e(t){var n,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=[],"localStorage"in window?(r=localStorage.getItem(G),console.log("sQuestions",r),null!==r?(s=JSON.parse(r),n=s.map((function(e){return q(e)}))):n=E()):n=E(),t({type:w.GET_ALL_QUESTIONS,questionGroups:n})}catch(o){console.error(o)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Je.dispatch(function(){var e=Object(h.a)(f.a.mark((function e(t){var n,s,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{n=[],"localStorage"in window?(s=localStorage.getItem(v),console.log("SAnswers",s),null!==s?(o=JSON.parse(s),n=o.map((function(e){return x(e)}))):n=m()):n=m(),t({type:r.GET_ALL_ANSWERS,answers:n})}catch(a){console.error(a)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Je.dispatch(function(){var e=Object(h.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{"localStorage"in window&&null!==(n=localStorage.getItem("SUPPORT_USERS"))?JSON.parse(n).map((function(e){return P.push(e)})):V.map((function(e){return P.push(e)})),t({type:A.GET_ALL_USERS,users:P})}catch(r){console.error(r)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),a.render(Object(oe.jsx)(o.a.StrictMode,{children:Object(oe.jsx)(He,{store:Je})}),document.getElementById("root"))},77:function(e,t,n){}},[[270,1,2]]]);
//# sourceMappingURL=main.4a9f6634.chunk.js.map